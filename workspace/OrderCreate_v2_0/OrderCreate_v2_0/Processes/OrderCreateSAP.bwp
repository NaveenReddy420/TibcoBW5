<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no" name="OrderCreateSAP"
    suppressJoinFailure="yes"
    targetNamespace="http://xmlns.example.com/20210317114810"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:bw="http://www.tibco.com/bw/xpath/bw-custom-functions"
    xmlns:info="http://www.tibco.com/bw/process/info"
    xmlns:ns="http://www.tibco.com/pe/EngineTypes"
    xmlns:ns0="http://xmlns.example.com/1450728112647PLT"
    xmlns:ns1="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate"
    xmlns:ns10="http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd"
    xmlns:ns11="http://tns.tibco.com/bw/palette/internal/activityerror+com.tibco.bw.core.design.process.editor.Activity_4002_Throw"
    xmlns:ns2="/OrderCreate_v2_0/Processes/OrderCreateSAP-Start-Input.xsd"
    xmlns:ns3="www.tibco.com/plugin/java/JavaMethodActivityInput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityInput"
    xmlns:ns4="www.tibco.com/plugin/java/JavaMethodActivityOutput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityOutput"
    xmlns:ns5="http://tns.tibco.com/bw/palette/internal/activityerror+ff87e473-e05c-4422-b3d1-ff7fe8109dbe"
    xmlns:ns6="/Processes/OrderCreateSAP.process/LicenceConfigurationData"
    xmlns:ns7="http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types"
    xmlns:ns8="http://www.ingrammicro.com/common/ServiceResponseHeader_v2_2/types"
    xmlns:ns9="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd"
    xmlns:pfx15="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd"
    xmlns:sca="http://docs.oasis-open.org/ns/opencsa/sca/200912"
    xmlns:sca-bpel="http://docs.oasis-open.org/ns/opencsa/sca-bpel/200801"
    xmlns:tib="http://www.tibco.com/bw/xslt/custom-functions"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"
    xmlns:tibprop="http://ns.tibco.com/bw/property" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:Types>
        <xs:schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="http://www.tibco.com/pe/EngineTypes"
            xmlns:tns="http://www.tibco.com/pe/EngineTypes" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <xs:complexType block="extension restriction"
                final="extension restriction" name="ErrorReport">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Class" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="OptionalErrorReport">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Class" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="FaultDetail">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ActivityName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0" name="Data" type="tns:anydata"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Msg" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="MsgCode" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessStack" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="StackTrace" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="FullClass" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="Class" type="xs:string"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="ProcessContext">
                <xs:sequence>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="JobId" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ApplicationName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="EngineName" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" name="ProcessInstanceId" type="xs:string"/>
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" minOccurs="0"
                        name="CustomJobId" type="xs:string"/>
                    <!--xs:element name="RestartedFromCheckpoint" form="unqualified" block="extension restriction substitution" type="xs:boolean"/-->
                    <xs:element
                        block="extension restriction substitution"
                        form="unqualified" maxOccurs="unbounded"
                        minOccurs="0" name="TrackingInfo" type="xs:string"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="anydata">
                <xs:sequence>
                    <xs:any namespace="##any" processContents="lax"/>
                </xs:sequence>
            </xs:complexType>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="OptionalErrorReport" type="tns:OptionalErrorReport"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="ErrorReport" type="tns:ErrorReport"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="FaultDetail" type="tns:FaultDetail"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="ProcessContext" type="tns:ProcessContext"/>
            <xs:element block="extension restriction substitution"
                final="extension restriction" name="CorrelationValue" type="xs:string"/>
        </xs:schema>
        <schema attributeFormDefault="unqualified"
            elementFormDefault="unqualified"
            targetNamespace="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions"
            version="" xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions">
            <complexType name="ActivityExceptionType">
                <sequence>
                    <element name="msg" type="string"/>
                    <element minOccurs="0" name="msgCode" type="string"/>
                </sequence>
            </complexType>
            <element name="ActivityException" type="tns:ActivityExceptionType"/>
            <complexType name="ActivityTimedOutExceptionType">
                <complexContent>
                    <extension base="tns:ActivityExceptionType"/>
                </complexContent>
            </complexType>
            <element name="ActivityTimedOutException" type="tns:ActivityTimedOutExceptionType"/>
            <complexType name="DuplicateKeyExceptionType">
                <complexContent>
                    <extension base="tns:ActivityExceptionType">
                        <sequence>
                            <element name="duplicateKey" type="string"/>
                            <element minOccurs="0" name="previousJobID" type="string"/>
                        </sequence>
                    </extension>
                </complexContent>
            </complexType>
            <element name="DuplicateKeyException" type="tns:DuplicateKeyExceptionType"/>
        </schema>
        <schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="www.tibco.com/plugin/java/JavaMethodActivityInput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityInput"
            xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="www.tibco.com/plugin/java/JavaMethodActivityInput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityInput">
            <element name="JavaMethodActivityInput" type="tns:MutTypeMethodInputRoot"/>
            <complexType name="MutTypeMethodInputRoot">
                <sequence>
                    <element form="unqualified" maxOccurs="1"
                        minOccurs="0" name="month" type="int"/>
                    <element form="unqualified" maxOccurs="1"
                        minOccurs="0" name="year" type="int"/>
                </sequence>
            </complexType>
        </schema>
        <schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="www.tibco.com/plugin/java/JavaMethodActivityOutput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityOutput"
            xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="www.tibco.com/plugin/java/JavaMethodActivityOutput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityOutput">
            <element name="JavaMethodActivityOutput" type="tns:MutTypeMethodOutputRoot"/>
            <complexType name="MutTypeMethodOutputRoot">
                <sequence>
                    <element form="unqualified" maxOccurs="1"
                        minOccurs="0" name="expirationdate" type="string"/>
                </sequence>
            </complexType>
        </schema>
        <schema elementFormDefault="unqualified"
            targetNamespace="http://www.example.org/JavaExceptions"
            xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://www.example.org/JavaExceptions">
            <element name="JavaException" type="tns:JavaExceptionType"/>
            <complexType name="JavaExceptionType">
                <sequence>
                    <element name="msg" type="string"/>
                    <element minOccurs="0" name="msgCode" type="string"/>
                </sequence>
            </complexType>
            <complexType name="InvocationExceptionType">
                <complexContent>
                    <extension base="tns:JavaExceptionType">
                        <sequence>
                            <element name="methodName" type="string"/>
                            <element name="exceptionClassName" type="string"/>
                            <element name="exceptionMessage" type="string"/>
                        </sequence>
                    </extension>
                </complexContent>
            </complexType>
            <element name="InvocationException" type="tns:InvocationExceptionType"/>
            <complexType name="ConversionExceptionType">
                <complexContent>
                    <extension base="tns:JavaExceptionType">
                        <sequence>
                            <element name="conversionError" type="string"/>
                        </sequence>
                    </extension>
                </complexContent>
            </complexType>
            <element name="ConversionException" type="tns:ConversionExceptionType"/>
            <element name="JavaToXMLConversionException" type="tns:ConversionExceptionType"/>
            <element name="XMLToJavaConversionException" type="tns:ConversionExceptionType"/>
            <element name="JavaEventSourceException" type="tns:JavaExceptionType"/>
            <element name="JavaEventSourceIllegalOperationException" type="tns:JavaExceptionType"/>
        </schema>
        <xs:schema attributeFormDefault="unqualified"
            elementFormDefault="qualified"
            targetNamespace="http://schemas.tibco.com/bw/plugins/basic/6.0/invokefaults"
            xmlns:tns="http://schemas.tibco.com/bw/plugins/basic/6.0/invokefaults" xmlns:xs="http://www.w3.org/2001/XMLSchema">
            <xs:complexType name="DefaultFaultType">
                <xs:sequence>
                    <xs:element form="unqualified" name="faultCode" type="xs:string"/>
                    <xs:element form="unqualified" name="faultString" type="xs:string"/>
                    <xs:element form="unqualified" minOccurs="0"
                        name="faultActor" type="xs:string"/>
                    <xs:element form="unqualified" minOccurs="0"
                        name="detail" type="tns:anydata"/>
                </xs:sequence>
            </xs:complexType>
            <xs:complexType block="extension restriction"
                final="extension restriction" name="anydata">
                <xs:sequence>
                    <xs:any namespace="##any" processContents="lax"/>
                </xs:sequence>
            </xs:complexType>
            <xs:element name="DefaultFaultElement" type="tns:DefaultFaultType"/>
        </xs:schema>
        <schema attributeFormDefault="unqualified"
            elementFormDefault="unqualified"
            targetNamespace="http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions"
            xmlns="http://www.w3.org/2001/XMLSchema" xmlns:tns="http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions">
            <complexType name="StatusLineType">
                <sequence>
                    <element name="httpVersion" type="string"/>
                    <element name="statusCode" type="integer"/>
                    <element name="reasonPhrase" type="string"/>
                </sequence>
            </complexType>
            <complexType name="HeadersType">
                <sequence>
                    <any maxOccurs="unbounded" minOccurs="0" processContents="lax"/>
                </sequence>
            </complexType>
            <complexType name="HttpMessageType">
                <sequence>
                    <element name="headers" type="tns:HeadersType"/>
                    <element minOccurs="0" name="binaryContent" type="base64Binary"/>
                    <element minOccurs="0" name="asciiContent" type="string"/>
                </sequence>
            </complexType>
            <complexType name="BaseExceptionType">
                <sequence>
                    <element form="unqualified" name="msg" type="string"/>
                    <element form="unqualified" name="msgCode" type="string"/>
                </sequence>
            </complexType>
            <complexType name="HttpExceptionType">
                <complexContent>
                    <extension base="tns:BaseExceptionType"/>
                </complexContent>
            </complexType>
            <complexType name="HttpClientExceptionType">
                <complexContent>
                    <extension base="tns:HttpResponseExceptionType"/>
                </complexContent>
            </complexType>
            <complexType name="HttpCommunicationExceptionType">
                <complexContent>
                    <extension base="tns:BaseExceptionType"/>
                </complexContent>
            </complexType>
            <complexType name="HttpResponseExceptionType">
                <complexContent>
                    <extension base="tns:BaseExceptionType">
                        <sequence>
                            <element name="statusLine" type="tns:StatusLineType"/>
                            <element minOccurs="0" name="httpMessage" type="tns:HttpMessageType"/>
                        </sequence>
                    </extension>
                </complexContent>
            </complexType>
            <complexType name="HttpServerExceptionType">
                <complexContent>
                    <extension base="tns:HttpResponseExceptionType"/>
                </complexContent>
            </complexType>
            <element name="HttpClientException" type="tns:HttpClientExceptionType"/>
            <element name="HttpCommunicationException" type="tns:HttpCommunicationExceptionType"/>
            <element name="HttpException" type="tns:HttpExceptionType"/>
            <element name="HttpResponseException" type="tns:HttpResponseExceptionType"/>
            <element name="HttpServerException" type="tns:HttpServerExceptionType"/>
            <element name="ActivityTimedOutException" type="tns:BaseExceptionType"/>
        </schema>
        <schema elementFormDefault="unqualified"
            targetNamespace="http://tns.tibco.com/bw/palette/internal/activityerror+ff87e473-e05c-4422-b3d1-ff7fe8109dbe"
            xmlns="http://www.w3.org/2001/XMLSchema"
            xmlns:Q1="http://www.example.org/JavaExceptions" xmlns:tns="http://tns.tibco.com/bw/palette/internal/activityerror+ff87e473-e05c-4422-b3d1-ff7fe8109dbe">
            <import namespace="http://www.example.org/JavaExceptions"/>
            <element name="ActivityErrorData" type="tns:ActivityErrorDataType"/>
            <complexType name="ActivityErrorDataType">
                <choice>
                    <element maxOccurs="1" minOccurs="0" ref="Q1:InvocationException"/>
                </choice>
            </complexType>
        </schema>
        <schema elementFormDefault="unqualified"
            targetNamespace="http://tns.tibco.com/bw/palette/internal/activityerror+com.tibco.bw.core.design.process.editor.Activity_4002_Throw"
            xmlns="http://www.w3.org/2001/XMLSchema"
            xmlns:Q1="http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd" xmlns:tns="http://tns.tibco.com/bw/palette/internal/activityerror+com.tibco.bw.core.design.process.editor.Activity_4002_Throw">
            <import
                namespace="http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd" schemaLocation="CloudBlue/CallCloudBlue-Fault-ErrorSchema.xsd"/>
            <element name="ActivityErrorData" type="tns:ActivityErrorDataType"/>
            <complexType name="ActivityErrorDataType">
                <choice>
                    <element maxOccurs="1" minOccurs="0" ref="Q1:ErrorHandlerInput"/>
                </choice>
            </complexType>
        </schema>
        <wsdl:definitions
            targetNamespace="http://xmlns.example.com/1450728112647PLT"
            xmlns:pfx15="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd"
            xmlns:plnk="http://docs.oasis-open.org/wsbpel/2.0/plnktype"
            xmlns:ptyp="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate"
            xmlns:tns="http://xmlns.example.com/1450728112647PLT"
            xmlns:vprop="http://docs.oasis-open.org/wsbpel/2.0/varprop"
            xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
            <plnk:partnerLinkType name="partnerLinkType">
                <plnk:role name="use" portType="ptyp:SalesOrderCreatePortType_v2_4"/>
            </plnk:partnerLinkType>
            <wsdl:import
                location="../Resources/SalesOrderCreate_v2_4.wsdl" namespace="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate"/>
        </wsdl:definitions>
    </tibex:Types>
    <tibex:ProcessInfo callable="true" createdBy="Admin"
        createdOn="Tue Feb 09 17:43:25 IST 2021" description=""
        extraErrorVars="true" modifiers="public"
        productVersion="6.6.0 HF3 V84 2020-04-23" scalable="true"
        singleton="true" stateless="false" type="IT"/>
    <tibex:ProcessInterface context=""
        input="{/OrderCreate_v2_0/Processes/OrderCreateSAP-Start-Input.xsd}SAPOrderCreateRequest" output="{http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd}serviceresponse">
        <tibex:errorList>
            <tibex:error
                error="{http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd}ErrorHandlerInput" name="ErrorHandlerInput"/>
        </tibex:errorList>
    </tibex:ProcessInterface>
    <tibex:ProcessTemplateConfigurations/>
    <tibex:NamespaceRegistry enabled="true">
        <tibex:namespaceItem
            namespace="http://www.tibco.com/bw/xslt/custom-functions" prefix="tib"/>
    </tibex:NamespaceRegistry>
    <notation:Diagram measurementUnit="Pixel" type="BWProcess"
        xmlns:bwnotation="http://tns.tibco.com/bw/runtime/BWNotation"
        xmlns:notation="http://www.eclipse.org/gmf/runtime/1.0.2/notation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <children type="2001">
            <children type="5001"/>
            <children type="3002">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
            </children>
            <children type="3003">
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
            </children>
            <children type="3004">
                <children type="4018">
                    <children type="3018">
                        <children type="4020">
                            <children type="3020">
                                <children type="4005">
                                    <children type="3007">
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.0"/>
                                    <layoutConstraint x="129"
                                    xsi:type="notation:Bounds" y="51"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.1"/>
                                    <layoutConstraint x="133"
                                    xsi:type="notation:Bounds" y="155"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.2"/>
                                    <layoutConstraint x="247"
                                    xsi:type="notation:Bounds" y="161"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.3"/>
                                    <layoutConstraint x="253"
                                    xsi:type="notation:Bounds" y="272"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.4"/>
                                    <layoutConstraint x="447"
                                    xsi:type="notation:Bounds" y="281"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.5"/>
                                    <layoutConstraint x="371"
                                    xsi:type="notation:Bounds" y="169"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.6"/>
                                    <layoutConstraint x="613"
                                    xsi:type="notation:Bounds" y="166"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.7"/>
                                    <layoutConstraint x="493"
                                    xsi:type="notation:Bounds" y="166"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.8"/>
                                    <layoutConstraint x="733"
                                    xsi:type="notation:Bounds" y="166"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.9"/>
                                    <layoutConstraint x="771"
                                    xsi:type="notation:Bounds" y="165"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.10"/>
                                    <layoutConstraint x="774"
                                    xsi:type="notation:Bounds" y="55"/>
                                    </children>
                                    <children type="4002">
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <children type="4017">
                                    <styles
                                    fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <layoutConstraint xsi:type="notation:Bounds"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles
                                    backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <element href="//0/@process/@activity/@activity/@activities.11"/>
                                    <layoutConstraint x="617"
                                    xsi:type="notation:Bounds" y="283"/>
                                    </children>
                                    <styles xsi:type="notation:DrawerStyle"/>
                                    <styles xsi:type="notation:SortingStyle"/>
                                    <styles xsi:type="notation:FilteringStyle"/>
                                    <element href="//0/@process/@activity/@activity"/>
                                    </children>
                                    <styles fontName="Segoe UI"
                                    lineColor="0" xsi:type="notation:ShapeStyle"/>
                                    <styles backgroundColor="16777215"
                                    gradientEndColor="50431"
                                    gradientStartColor="16777215" xsi:type="bwnotation:BackgroundStyle"/>
                                    <styles xsi:type="bwnotation:ResizingStyle"/>
                                    <element href="//0/@process/@activity/@activity"/>
                                    <layoutConstraint height="108"
                                    width="400" x="2"
                                    xsi:type="notation:Bounds" y="2"/>
                                </children>
                                <styles xsi:type="notation:SortingStyle"/>
                                <styles xsi:type="notation:FilteringStyle"/>
                            </children>
                            <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
                            <styles xsi:type="bwnotation:BackgroundStyle"/>
                            <styles xsi:type="bwnotation:ResizingStyle"/>
                            <element href="//0/@process/@activity"/>
                            <layoutConstraint height="365" width="444"
                                x="30" xsi:type="notation:Bounds" y="20"/>
                        </children>
                        <styles xsi:type="notation:SortingStyle"/>
                        <styles xsi:type="notation:FilteringStyle"/>
                        <element href="//0/@process/@activity"/>
                    </children>
                    <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
                    <styles xsi:type="bwnotation:BackgroundStyle"/>
                    <styles xsi:type="bwnotation:ResizingStyle"/>
                    <element href="//0/@process/@activity"/>
                    <layoutConstraint height="409" width="519" xsi:type="notation:Bounds"/>
                </children>
                <styles xsi:type="notation:SortingStyle"/>
                <styles xsi:type="notation:FilteringStyle"/>
                <element href="//0/@process"/>
            </children>
            <styles fontName="Segoe UI" lineColor="0" xsi:type="notation:ShapeStyle"/>
            <element href="//0/@process"/>
            <layoutConstraint height="566" width="1548" xsi:type="notation:Bounds"/>
        </children>
        <styles xsi:type="notation:DiagramStyle"/>
        <element href="//0"/>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.0"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.6"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.8" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.1"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.8"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.9" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.2"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.10" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.4"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.9"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.10" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.5"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.6"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.6" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.7"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.7" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.8"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.1"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.2" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.9"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.2"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.10"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.4" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.11"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
        <edges
            source="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.3"
            target="//@children.0/@children.3/@children.0/@children.0/@children.0/@children.0/@children.0/@children.0/@children.5" type="4006">
            <children type="6002">
                <layoutConstraint xsi:type="notation:Location" y="40"/>
            </children>
            <styles lineColor="0" xsi:type="notation:ConnectorStyle"/>
            <styles fontName="Segoe UI" xsi:type="notation:FontStyle"/>
            <element href="//0/@process/@activity/@activity/@links/@children.12"/>
            <bendpoints points="[0, 0, 0, 0]$[0, 0, 0, 0]" xsi:type="notation:RelativeBendpoints"/>
        </edges>
    </notation:Diagram>
    <bpws:documentation/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://www.tibco.com/xmlns/ae2xsd/2002/05/Ingram/ErrorHandlerEvent_v2_1"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../Resources/OrderCreateRequestSAP.xsd" namespace="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestSAP.xsd"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../Resources/OrderCreateResponse.xsd" namespace="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../Resources/OrderCreateRequest.xsd" namespace="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="OrderCreateSAP-Start-Input.xsd" namespace="/OrderCreate_v2_0/Processes/OrderCreateSAP-Start-Input.xsd"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="OrderCreateSAP-LicenceConfigurationDataInline.xsd" namespace="/Processes/OrderCreateSAP.process/LicenceConfigurationData"/>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="../Resources/SalesOrderCreate_v2_4.wsdl" namespace="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../../Processes/CloudBlue/CallCloudBlue-Fault-ErrorSchema.xsd" namespace="http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema"
        location="../../../../../../Naveen Nallakalva/Downloads/New folder/OrderCreate_v2_0/OrderCreate_v2_0/Processes/CloudBlue/CallCloudBlue-Fault-ErrorSchema.xsd" namespace="http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd"/>
    <bpws:import importType="http://www.w3.org/2001/XMLSchema" namespace="http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd"/>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="../Resources/SalesOrderCreate_v2_4.wsdl" namespace="http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types"/>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="../Resources/SalesOrderCreate_v2_4.wsdl" namespace="http://www.ingrammicro.com/common/ServiceResponseHeader_v2_2/types"/>
    <bpws:partnerLinks>
        <bpws:partnerLink name="SalesOrderCreatePortType_v2_4"
            partnerLinkType="ns0:partnerLinkType" partnerRole="use"
            sca-bpel:ignore="true"
            sca-bpel:reference="SalesOrderCreatePortType_v2_4" sca-bpel:wiredByImpl="false">
            <tibex:InterfaceContext>
                <tibex:ContextParameter
                    contextElement="{http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types}ServiceRequestHeader"
                    direction="Input" name="InputHeader">
                    <operation name="create"/>
                </tibex:ContextParameter>
                <tibex:ContextParameter
                    contextElement="{http://www.ingrammicro.com/common/ServiceResponseHeader_v2_2/types}ServiceResponseHeader"
                    direction="Output" name="OutputHeader">
                    <operation name="create"/>
                </tibex:ContextParameter>
            </tibex:InterfaceContext>
            <tibex:ReferenceBinding>
                <tibex:binding>
                    <bwbinding:BWBaseBinding
                        xmlns:SalesOrderCreate="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate"
                        xmlns:axis2="http://xsd.tns.tibco.com/bw/models/binding/soap/axis2"
                        xmlns:bwbinding="http://tns.tibco.com/bw/model/core/bwbinding"
                        xmlns:sca="http://www.osoa.org/xmlns/sca/1.0"
                        xmlns:scact="http://xsd.tns.tibco.com/amf/models/sca/componentType"
                        xmlns:scaext="http://xsd.tns.tibco.com/amf/models/sca/extensions"
                        xmlns:types="http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types"
                        xmlns:types_1="http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types"
                        xmlns:types_2="http://www.ingrammicro.com/common/SOAPFault_v2_1/types" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                        <referenceBinding xsi:type="scact:Reference">
                            <sca:interface.wsdl
                                interface="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate#wsdl.interface(SalesOrderCreatePortType_v2_4)" scaext:wsdlLocation="../Resources/SalesOrderCreate_v2_4.wsdl"/>
                            <scaext:binding
                                locationURI="http://localhost:20219/salesorder/SalesOrderCreateEndpoint"
                                name="SalesOrderCreateEndpointBinding"
                                portName="SalesOrderCreateEndpoint"
                                portTypeQName="SalesOrderCreate:SalesOrderCreatePortType_v2_4"
                                portTypeWSDLLocation="platform:/resource/OrderCreate_v2_0/Resources\SalesOrderCreate_v2_4.wsdl"
                                serviceBindingQName="SalesOrderCreate:SalesOrderCreateEndpointBinding"
                                serviceQName="SalesOrderCreate:SalesOrderCreate_v2_4_Service"
                                transportBindingType="HTTP"
                                wsdlLocation="platform:/resource/OrderCreate_v2_0/Resources\SalesOrderCreate_v2_4.wsdl" xsi:type="axis2:SOAPReferenceBinding">
                                <bindingType style="DOCUMENT"/>
                                <operationConfiguration
                                    action="/salesorder/SalesOrderCreate" operationName="create">
                                    <bindingType style="DOCUMENT"/>
                                    <messageConfiguration
                                    messageQName="SalesOrderCreate:SalesOrderCreateInput_v2_4" wsdlLocation="file:/c:/Users/Naveen%20Nallakalva/Downloads/New%20folder/OrderCreate_v2_0/OrderCreate_v2_0/Resources/SalesOrderCreate_v2_4.wsdl">
                                    <messagePartConfigurations
                                    encoding="literal"
                                    partElementName="types:ServiceRequest"
                                    partName="request" xsi:type="axis2:BodyPartConfiguration"/>
                                    <unboundHeaderConfigurations
                                    messageQName="SalesOrderCreate:requestHeader"
                                    partName="reqheadpart" wsdlLocation="platform:/resource/OrderCreate_v2_0/Resources\SalesOrderCreate_v2_4.wsdl"/>
                                    </messageConfiguration>
                                    <messageConfiguration
                                    messageDirection="OUTPUT"
                                    messageQName="SalesOrderCreate:SalesOrderCreateOutput_v2_4" wsdlLocation="file:/c:/Users/Naveen%20Nallakalva/Downloads/New%20folder/OrderCreate_v2_0/OrderCreate_v2_0/Resources/SalesOrderCreate_v2_4.wsdl">
                                    <messagePartConfigurations
                                    encoding="literal"
                                    partElementName="types_1:ServiceResponse"
                                    partName="response" xsi:type="axis2:BodyPartConfiguration"/>
                                    <unboundHeaderConfigurations
                                    messageQName="SalesOrderCreate:responseHeader"
                                    partName="resheadpart" wsdlLocation="platform:/resource/OrderCreate_v2_0/Resources\SalesOrderCreate_v2_4.wsdl"/>
                                    </messageConfiguration>
                                    <messageConfiguration action="fault"
                                    messageDirection="FAULT"
                                    messageQName="SalesOrderCreate:SalesOrderCreateFault_v2_4" wsdlLocation="file:/c:/Users/Naveen%20Nallakalva/Downloads/New%20folder/OrderCreate_v2_0/OrderCreate_v2_0/Resources/SalesOrderCreate_v2_4.wsdl">
                                    <messagePartConfigurations
                                    partElementName="types_2:ServiceFault"
                                    partName="part1" xsi:type="axis2:BodyPartConfiguration"/>
                                    </messageConfiguration>
                                    <context>
                                    <inputMapping
                                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xd;&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:bwrefreq=&quot;http://www.tibco.com/namespaces/tnt/binding/soap/referencerequest&quot;  xmlns:ns0=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types&quot; version=&quot;2.0&quot;>&#xd;&#xa;    &lt;xsl:param name=&quot;InputHeader&quot;/>&#xd;&#xa;    &lt;xsl:template name=&quot;RequestContext&quot; match=&quot;/&quot;>&#xd;&#xa;        &lt;bwrefreq:ReferenceRequestContext>&#xd;&#xa;            &lt;bwrefreq:Headers>&#xd;&#xa;                &lt;requestHeader.reqheadpart>&#xd;&#xa;                    &lt;xsl:copy-of select=&quot;$InputHeader&quot;/>&#xd;&#xa;                &lt;/requestHeader.reqheadpart>&#xd;&#xa;            &lt;/bwrefreq:Headers>&#xd;&#xa;        &lt;/bwrefreq:ReferenceRequestContext>&#xd;&#xa;    &lt;/xsl:template>&#xd;&#xa;&lt;/xsl:stylesheet>" parameterName="InputHeader"/>
                                    <outputMapping
                                    direction="OUTPUT"
                                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xd;&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&#x9; xmlns:ns0=&quot;http://www.ingrammicro.com/common/ServiceResponseHeader_v2_2/types&quot; version=&quot;2.0&quot;>&#xd;&#xa;&lt;xsl:param name=&quot;Headers&quot;/>&#xd;&#xa;    &lt;xsl:template name=&quot;OutputHeader&quot; match=&quot;/&quot;>&#xd;&#xa;        &#x9; &lt;xsl:copy-of select=&quot;$Headers/responseHeader.resheadpart/ns0:ServiceResponseHeader&quot;/>&#x9; &lt;/xsl:template>&#xd;&#xa;&lt;/xsl:stylesheet>" parameterName="OutputHeader"/>
                                    <faultMappings direction="FAULT" faultName="fault"/>
                                    </context>
                                </operationConfiguration>
                                <outboundConfiguration
                                    endpointURI="/salesorder/SalesOrderCreateEndpoint"
                                    httpClient="" xsi:type="axis2:HttpTransportConfiguration"/>
                            </scaext:binding>
                            <scact:bindingAdjunct bindingName="SalesOrderCreateEndpointBinding">
                                <sca:property name="enableSoapDefault" scaext:simpleValue="true"/>
                            </scact:bindingAdjunct>
                        </referenceBinding>
                    </bwbinding:BWBaseBinding>
                </tibex:binding>
            </tibex:ReferenceBinding>
        </bpws:partnerLink>
    </bpws:partnerLinks>
    <bpws:variables>
        <bpws:variable element="ns:ProcessContext"
            name="_processContext" sca-bpel:internal="true"/>
        <bpws:variable name="SAPVariables-SoapTimeout"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SAPVariables/SoapTimeout" type="xsd:string"/>
        <bpws:variable name="SOAPUrl-SalesOrderEndpointUrl"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SOAPUrl/SalesOrderEndpointUrl" type="xsd:string"/>
        <bpws:variable name="BW_GLOBAL_TRUSTED_CA_STORE"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="BW_GLOBAL_TRUSTED_CA_STORE" type="xsd:string"/>
        <bpws:variable element="ns2:SAPOrderCreateRequest" name="Start"
            sca-bpel:internal="true" tibex:parameter="in"/>
        <bpws:variable name="GetVariable" sca-bpel:internal="true"/>
        <bpws:variable name="ExtendedSpecs" sca-bpel:internal="true"/>
        <bpws:variable name="ProductExtendedSpecs" sca-bpel:internal="true"/>
        <bpws:variable element="ns3:JavaMethodActivityInput"
            name="getDate-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns4:JavaMethodActivityOutput"
            name="getDate" sca-bpel:internal="true"/>
        <bpws:variable element="ns5:ActivityErrorData"
            name="_error_getDate" sca-bpel:internal="true"/>
        <bpws:variable element="ns:ErrorReport" name="_error" sca-bpel:internal="true"/>
        <bpws:variable element="ns6:root"
            name="LicenceConfigurationData-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns6:root"
            name="LicenceConfigurationData" sca-bpel:internal="true"/>
        <bpws:variable element="ns7:ServiceRequestHeader"
            name="SalesOrderCreatePortType_v2_4-create-Input" sca-bpel:internal="true"/>
        <bpws:variable element="ns8:ServiceResponseHeader"
            name="SalesOrderCreatePortType_v2_4-create-Output" sca-bpel:internal="true"/>
        <bpws:variable messageType="ns1:SalesOrderCreateInput_v2_4"
            name="SalesOrderCreateServiceInput" sca-bpel:internal="true"/>
        <bpws:variable messageType="ns1:SalesOrderCreateOutput_v2_4"
            name="SalesOrderCreateService" sca-bpel:internal="true"/>
        <bpws:variable element="ns7:ServiceRequestHeader"
            name="SetContext_SalesOrderCreateService-input" sca-bpel:internal="true"/>
        <bpws:variable element="ns7:ServiceRequestHeader"
            name="SetContext_SalesOrderCreateService" sca-bpel:internal="true"/>
        <bpws:variable element="ns7:ServiceRequestHeader"
            name="GetContext_SalesOrderCreateService" sca-bpel:internal="true"/>
        <bpws:variable name="Countries-PR1ImlCountriesList"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="Countries/PR1ImlCountriesList" type="xsd:string"/>
        <bpws:variable name="Countries-SAPCountriesList"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="Countries/SAPCountriesList" type="xsd:string"/>
        <bpws:variable name="Countries-CommonCountriesList"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="Countries/CommonCountriesList" type="xsd:string"/>
        <bpws:variable name="SAPVariables-POType"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SAPVariables/POType" type="xsd:string"/>
        <bpws:variable name="SOAPUrl-CredentialsId"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SOAPUrl/CredentialsId" type="xsd:string"/>
        <bpws:variable name="SOAPUrl-CredentialPassword"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SOAPUrl/CredentialPassword" type="xsd:string"/>
        <bpws:variable name="SAPVariables-PR1SystemName"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SAPVariables/PR1SystemName" type="xsd:string"/>
        <bpws:variable name="SAPVariables-PL2SystemName"
            sca-bpel:hotUpdate="false" sca-bpel:privateProperty="true"
            sca-bpel:property="yes"
            tibex:propertySource="SAPVariables/PL2SystemName" type="xsd:string"/>
        <bpws:variable element="ns9:serviceresponse" name="End-input"
            sca-bpel:internal="true" tibex:parameter="out"/>
        <bpws:variable element="ns10:ErrorHandlerInput"
            name="Generate-Error-Fault-Schema0-Var" sca-bpel:internal="true"/>
        <bpws:variable element="ns11:ActivityErrorData"
            name="_error_Generate-Error" sca-bpel:internal="true"/>
    </bpws:variables>
    <bpws:extensions>
        <bpws:extension mustUnderstand="no" namespace="http://www.eclipse.org/gmf/runtime/1.0.2/notation"/>
        <bpws:extension mustUnderstand="no" namespace="http://www.tibco.com/bw/process/info"/>
        <bpws:extension mustUnderstand="no" namespace="http://docs.oasis-open.org/ns/opencsa/sca-bpel/200801"/>
        <bpws:extension mustUnderstand="no" namespace="http://docs.oasis-open.org/ns/opencsa/sca/200912"/>
        <bpws:extension mustUnderstand="no" namespace="http://ns.tibco.com/bw/property"/>
        <bpws:extension mustUnderstand="no" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:scope name="OrderCreateSAP">
        <bpws:flow name="OrderCreateSAP">
            <bpws:links>
                <bpws:link name="Start-to-GetVariable"
                    tibex:label="Otherwise" tibex:linkType="SUCCESSWITHNOCONDITION"/>
                <bpws:link name="SalesOrderCreateService-to-GetContext_SalesOrderCreateService"/>
                <bpws:link name="GetContext_SalesOrderCreateService-to-SAPSubProcessLog"/>
                <bpws:link name="GetContext_SalesOrderCreateService-to-Generate-Error"/>
                <bpws:link name="Start-to-End" tibex:label="Line Check" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link name="SAPSubProcessLog-to-End"/>
                <bpws:link name="getDate-to-SetContext_SalesOrderCreateService"/>
                <bpws:link name="SetContext_SalesOrderCreateService-to-SalesOrderCreateService"/>
                <bpws:link name="LicenceConfigurationData-to-SetContext_SalesOrderCreateService"/>
                <bpws:link name="GetVariable-to-ExtendedSpecs"/>
                <bpws:link name="ExtendedSpecs-to-ProductExtendedSpecs"/>
                <bpws:link name="ProductExtendedSpecs-to-getDate"
                    tibex:label="CreditCardCheck" tibex:linkType="SUCCESSWITHCONDITION"/>
                <bpws:link
                    name="ProductExtendedSpecs-to-LicenceConfigurationData"
                    tibex:label="Otherwise" tibex:linkType="SUCCESSWITHNOCONDITION"/>
            </bpws:links>
            <bpws:extensionActivity>
                <tibex:receiveEvent createInstance="yes"
                    eventTimeout="0" name="Start"
                    tibex:xpdlId="5ae76642-a3f3-492e-8a90-26f5332a1b33"
                    variable="Start" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:sources>
                        <bpws:source linkName="Start-to-GetVariable">
                            <bpws:transitionCondition><![CDATA[##otherwise##]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="Start-to-End">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="not(count($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines) > 0)" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[not(count($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines) > 0)]]></bpws:transitionCondition>
                        </bpws:source>
                    </bpws:sources>
                    <tibex:eventSource>
                        <tibex:StartEvent xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                    </tibex:eventSource>
                </tibex:receiveEvent>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity name="GetVariable"
                    outputVariable="GetVariable"
                    tibex:xpdlId="2d7a3545-fb38-432e-921f-5ae41f40dc7c"
                    type="bw.internal.getSharedVariable" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="Start-to-GetVariable"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="GetVariable-to-ExtendedSpecs"/>
                    </bpws:sources>
                    <tibex:GetSharedVariable inline="true"
                        variableName="Resources.Common.JobSharedVariables.JS-ExecutionStats" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity name="ExtendedSpecs"
                    outputVariable="ExtendedSpecs"
                    tibex:xpdlId="398407de-38a1-4533-89e3-4ca9b58c7416"
                    type="bw.internal.getSharedVariable" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="GetVariable-to-ExtendedSpecs"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="ExtendedSpecs-to-ProductExtendedSpecs"/>
                    </bpws:sources>
                    <tibex:GetSharedVariable inline="true"
                        variableName="Resources.ExtendedSpecs" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity name="ProductExtendedSpecs"
                    outputVariable="ProductExtendedSpecs"
                    tibex:xpdlId="04901584-cf82-4296-a65e-8daa87c7b9ca"
                    type="bw.internal.getSharedVariable" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="ExtendedSpecs-to-ProductExtendedSpecs"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="ProductExtendedSpecs-to-getDate">
                            <tibex:DesignExpression>
                                <tibex:expression
                                    expression="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) != &quot;&quot;" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"/>
                            </tibex:DesignExpression>
                            <bpws:transitionCondition expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xpath2.0"><![CDATA[exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) != ""]]></bpws:transitionCondition>
                        </bpws:source>
                        <bpws:source linkName="ProductExtendedSpecs-to-LicenceConfigurationData">
                            <bpws:transitionCondition><![CDATA[##otherwise##]]></bpws:transitionCondition>
                        </bpws:source>
                    </bpws:sources>
                    <tibex:GetSharedVariable inline="true"
                        variableName="Resources.ProductExtendedSpecs" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension inputVariable="getDate-input"
                    name="getDate" outputVariable="getDate"
                    tibex:xpdlId="ff87e473-e05c-4422-b3d1-ff7fe8109dbe" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="ProductExtendedSpecs-to-getDate"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="getDate-to-SetContext_SalesOrderCreateService"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:pfx6=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockRequest.xsd&quot; xmlns:pfx91=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceAndStockMappingResponse_v2_0.xsd&quot; xmlns:pfx7=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockResponse.xsd&quot; xmlns:pfx8=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/PriceAndStockRequest.xsd&quot; xmlns:pfx101=&quot;http://xmlns.example.com/1437473647806&quot; xmlns:pfx9=&quot;http://www.ingrammicro.com/product/PriceAndPriceAndStock _v2_0_Service/Resources/PriceAndPriceAndStockResponse.xsd&quot; xmlns:pfx2=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_1/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx3=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_6/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_6/types&quot; xmlns:pfx5=&quot;http://www.ingrammicro.com/common/ServiceResponseHeader_v2_1/types&quot; xmlns:ns121=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v1_0/types&quot; xmlns:ns0=&quot;http://www.ingrammicro.com/order/OrderCreateRequest_v1_0/types&quot; xmlns:ns2=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_1/types&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:ns1=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_6/types&quot; xmlns:ns4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_1/types&quot; xmlns:ns3=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types&quot; xmlns:ns6=&quot;http://www.tibco.com/pe/EngineTypes&quot; xmlns:ns5=&quot;http://xmlns.tibco.com/encodings/mime&quot; xmlns:ansbw6=&quot;www.tibco.com/plugin/java/JavaMethodActivityInput+ff87e473-e05c-4422-b3d1-ff7fe8109dbe+JavaMethodActivityInput&quot; xmlns:ns8=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types&quot; xmlns:ns7=&quot;http://www.tibco.com/pe/GenerateErrorActivity/InputSchema&quot; xmlns:ns13=&quot;http://www.ingrammicro.com/product/ProductLookupRequest_v1_0/types&quot; xmlns:ns12=&quot;http://www.tibco.com/schemas/EAILoggingFramework_1_0/Resources/Schema/LoggingFrameworkCDM.xsd&quot; xmlns:ns9=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types&quot; xmlns:ns11=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_v1_0/Resources/Common/JobSharedVariables/Schema.xsd&quot; xmlns:ns10=&quot;http://www.tibco.com/pe/DeployedVarsType&quot; xmlns:ns16=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlusRequest_v1_0/types&quot; xmlns:ns15=&quot;http://www.ingrammicro.com/order/OrderDeleteRequest_v1_0/types&quot; xmlns:ns14=&quot;http://www.tibco.com/schemas/OrderLTLUpdate_v1_0/Resources/Schema.xsd&quot; xmlns:ns131=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusRequest&quot; xmlns:pfx19=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_1_0/LoggingFrameworkResources/LoggingFrameworkSchema/ErrorHandler_V3.0.xsd&quot; xmlns:ns41=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusReply&quot; xmlns:pfx17=&quot;http://webservices.ingrammicro.com/wsdl/PriceAndAvailabilityPlus/GetPriceAndAvailabilityImpl/Processes&quot; xmlns:pfx18=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestSAP.xsd&quot; xmlns:pfx11=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlus_v1_0/GetPriceAndAvailabilityImpl&quot; xmlns:pfx12=&quot;http://www.tibco.com/xmlns/ae2xsd/2002/05/Ingram/ErrorHandlerEvent_v2_1&quot; xmlns:pfx10=&quot;http://www.tibco.com/namespaces/tnt/plugins/jms&quot; xmlns:pfx15=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd&quot; xmlns:pfx16=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateAuthRequest.xsd&quot; xmlns:pfx13=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate&quot; xmlns:pfx14=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd&quot; xmlns:pfx=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/types&quot; xmlns:ns=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_1/types&quot; xmlns:pfx71=&quot;http://www.ingrammicro.com/product/Price _v2_0_Service/Resources/PriceRequest.xsd&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns102=&quot;http://www.tibco.com/schemas/OrderDetail_v1_1/Resources/Schema.xsd&quot; xmlns:ns81=&quot;http://www.ingrammicro.com/order/OrderCreateResponse_v1_0/types&quot; xmlns:ns101=&quot;http://www.ingrammicro.com/OrderDetail_v1_1/Resources/OrderDetailResponse/types&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; xmlns:pfx22=&quot;http://xmlns.example.com/1517917744445&quot; xmlns:pfx161=&quot;http://www.ingrammicro.com/order/OrderCreate_v1_0/CreateImpl/Processes/OrderCreate&quot; xmlns:pfx23=&quot;http://www.ingrammicro.com/order/OrderDelete_v1_0/DeleteImpl/Processes/OrderDelete&quot; xmlns:pfx20=&quot;http://www.ingrammicro.com/order/OrderDetail&quot; xmlns:pfx21=&quot;http://www.ingrammicro.com/Processes/OrderModify/OrderModify_Service&quot; xmlns:pfx121=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockRequest.xsd&quot; xmlns:pfx24=&quot;http://www.ingrammicro.com/OrderLTLUpdate_v1_1/Resources/OrderLTLUpdateResponse/types&quot; xmlns:pfx25=&quot;http://www.ingrammicro.com/order/OrderRelease_v1_0/ReleaseImpl/Processes/OrderRelease&quot; xmlns:pfx81=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceResponse.xsd&quot; xmlns:ns71=&quot;http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions&quot; xmlns:ns111=&quot;http://www.ingrammicro.com/order/OrderModifyRequest_v1_0/types&quot; xmlns:ns61=&quot;http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions&quot; xmlns:pd=&quot;http://xmlns.tibco.com/bw/process/2003&quot; xmlns:pfx191=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestImpulse.xsd&quot; xmlns:ns21=&quot;http://www.ingrammicro.com/product/ProductLookupResponse_v1_0/types&quot; xmlns:pfx111=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockResponse.xsd&quot; version=&quot;1.0&quot;>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;getDate-Input&quot; match=&quot;/&quot;>&#xa;        &lt;ansbw6:JavaMethodActivityInput>&#xa;            &lt;month>&#xa;                &lt;xsl:value-of select=&quot;number(substring-before($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:expirationdate, &amp;quot;/&amp;quot;))&quot;/>&#xa;            &lt;/month>&#xa;            &lt;year>&#xa;                &lt;xsl:value-of select=&quot;number(substring-after($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:expirationdate, &amp;quot;/&amp;quot;))&quot;/>&#xa;            &lt;/year>&#xa;        &lt;/ansbw6:JavaMethodActivityInput>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.java.javamethod"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:java="http://ns.tibco.com/bw/palette/java" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/java#//JavaMethod"/>
                                    <value
                                    className="Processes.OrderCreateSAP.OrderCreateSAPgetDate"
                                    isMultipleOutput="true"
                                    methodName="invoke"
                                    methodReturn="void" xsi:type="java:JavaMethod">
                                    <javaActivityParameter
                                    parameterCardinality="Optional"
                                    parameterDataType="int"
                                    parameterName="month" parameterType="IN"/>
                                    <javaActivityParameter
                                    parameterCardinality="Optional"
                                    parameterDataType="int"
                                    parameterName="year" parameterType="IN"/>
                                    <javaActivityParameter
                                    parameterCardinality="Optional"
                                    parameterDataType="string"
                                    parameterName="expirationdate" parameterType="OUT"/>
                                    </value>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    inputVariable="LicenceConfigurationData-input"
                    name="LicenceConfigurationData"
                    outputVariable="LicenceConfigurationData"
                    tibex:xpdlId="0399bea8-6531-4171-9c5e-03cfff91ab40" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="ProductExtendedSpecs-to-LicenceConfigurationData"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="LicenceConfigurationData-to-SetContext_SalesOrderCreateService"/>
                    </bpws:sources>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:pfx6=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockRequest.xsd&quot; xmlns:pfx91=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceAndStockMappingResponse_v2_0.xsd&quot; xmlns:pfx7=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockResponse.xsd&quot; xmlns:pfx8=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/PriceAndStockRequest.xsd&quot; xmlns:pfx101=&quot;http://xmlns.example.com/1437473647806&quot; xmlns:pfx9=&quot;http://www.ingrammicro.com/product/PriceAndPriceAndStock _v2_0_Service/Resources/PriceAndPriceAndStockResponse.xsd&quot; xmlns:pfx2=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_1/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx3=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_6/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_6/types&quot; xmlns:pfx5=&quot;http://www.ingrammicro.com/common/ServiceResponseHeader_v2_1/types&quot; xmlns:ns121=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v1_0/types&quot; xmlns:ns0=&quot;http://www.ingrammicro.com/order/OrderCreateRequest_v1_0/types&quot; xmlns:ns2=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_1/types&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:ns1=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_6/types&quot; xmlns:ns4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_1/types&quot; xmlns:ns3=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types&quot; xmlns:ns6=&quot;http://www.tibco.com/pe/EngineTypes&quot; xmlns:ns5=&quot;http://xmlns.tibco.com/encodings/mime&quot; xmlns:ansbw6=&quot;/Processes/OrderCreateSAP.process/LicenceConfigurationData&quot; xmlns:ns8=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types&quot; xmlns:ns7=&quot;http://www.tibco.com/pe/GenerateErrorActivity/InputSchema&quot; xmlns:ns13=&quot;http://www.ingrammicro.com/product/ProductLookupRequest_v1_0/types&quot; xmlns:ns12=&quot;http://www.tibco.com/schemas/EAILoggingFramework_1_0/Resources/Schema/LoggingFrameworkCDM.xsd&quot; xmlns:ns9=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types&quot; xmlns:ns11=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_v1_0/Resources/Common/JobSharedVariables/Schema.xsd&quot; xmlns:ns10=&quot;http://www.tibco.com/pe/DeployedVarsType&quot; xmlns:ns16=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlusRequest_v1_0/types&quot; xmlns:ns15=&quot;http://www.ingrammicro.com/order/OrderDeleteRequest_v1_0/types&quot; xmlns:ns14=&quot;http://www.tibco.com/schemas/OrderLTLUpdate_v1_0/Resources/Schema.xsd&quot; xmlns:ns131=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusRequest&quot; xmlns:pfx19=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_1_0/LoggingFrameworkResources/LoggingFrameworkSchema/ErrorHandler_V3.0.xsd&quot; xmlns:ns41=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusReply&quot; xmlns:pfx17=&quot;http://webservices.ingrammicro.com/wsdl/PriceAndAvailabilityPlus/GetPriceAndAvailabilityImpl/Processes&quot; xmlns:pfx18=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestSAP.xsd&quot; xmlns:pfx11=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlus_v1_0/GetPriceAndAvailabilityImpl&quot; xmlns:pfx12=&quot;http://www.tibco.com/xmlns/ae2xsd/2002/05/Ingram/ErrorHandlerEvent_v2_1&quot; xmlns:pfx10=&quot;http://www.tibco.com/namespaces/tnt/plugins/jms&quot; xmlns:pfx15=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd&quot; xmlns:pfx16=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateAuthRequest.xsd&quot; xmlns:pfx13=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate&quot; xmlns:pfx14=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd&quot; xmlns:pfx=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/types&quot; xmlns:ns=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_1/types&quot; xmlns:pfx71=&quot;http://www.ingrammicro.com/product/Price _v2_0_Service/Resources/PriceRequest.xsd&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns102=&quot;http://www.tibco.com/schemas/OrderDetail_v1_1/Resources/Schema.xsd&quot; xmlns:ns81=&quot;http://www.ingrammicro.com/order/OrderCreateResponse_v1_0/types&quot; xmlns:ns101=&quot;http://www.ingrammicro.com/OrderDetail_v1_1/Resources/OrderDetailResponse/types&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; xmlns:pfx22=&quot;http://xmlns.example.com/1517917744445&quot; xmlns:pfx161=&quot;http://www.ingrammicro.com/order/OrderCreate_v1_0/CreateImpl/Processes/OrderCreate&quot; xmlns:pfx23=&quot;http://www.ingrammicro.com/order/OrderDelete_v1_0/DeleteImpl/Processes/OrderDelete&quot; xmlns:pfx20=&quot;http://www.ingrammicro.com/order/OrderDetail&quot; xmlns:pfx21=&quot;http://www.ingrammicro.com/Processes/OrderModify/OrderModify_Service&quot; xmlns:pfx121=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockRequest.xsd&quot; xmlns:pfx24=&quot;http://www.ingrammicro.com/OrderLTLUpdate_v1_1/Resources/OrderLTLUpdateResponse/types&quot; xmlns:pfx25=&quot;http://www.ingrammicro.com/order/OrderRelease_v1_0/ReleaseImpl/Processes/OrderRelease&quot; xmlns:pfx81=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceResponse.xsd&quot; xmlns:ns71=&quot;http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions&quot; xmlns:ns111=&quot;http://www.ingrammicro.com/order/OrderModifyRequest_v1_0/types&quot; xmlns:ns61=&quot;http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions&quot; xmlns:pd=&quot;http://xmlns.tibco.com/bw/process/2003&quot; xmlns:pfx191=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestImpulse.xsd&quot; xmlns:ns21=&quot;http://www.ingrammicro.com/product/ProductLookupResponse_v1_0/types&quot; xmlns:pfx111=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockResponse.xsd&quot; version=&quot;1.0&quot;>&#xa;    &lt;xsl:param name=&quot;ProductExtendedSpecs&quot;/>&#xa;    &lt;xsl:param name=&quot;ExtendedSpecs&quot;/>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;LicenceConfigurationData-Input&quot; match=&quot;/&quot;>&#xa;        &lt;ansbw6:root>&#xa;            &lt;xsl:for-each select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs&quot;>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;QuoteNumber&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;QUOTE_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;estimateId&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;VPP_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;reselllerBId&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;SPECIAL_DEAL_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;smartAccountDMName&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;SMART_ACC_NAME_CISCO&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;smartVIRTAccountName&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;SMART_VIR_ACC_NAME_CISCO&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;holdingAccountId&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;HOLDING_ACC_NAME_CISCO&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;holdingVIRTAccountName&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;HOLDING_VIR_ACC_NAME_CISCO&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                &lt;/xsl:choose>&#xa;            &lt;/xsl:for-each>&#xa;            &lt;xsl:for-each select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines/pfx15:productextendedspecs&quot;>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;billingoption&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;BILLING_OPTION&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;certificationnum&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;CERTIFICATION_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;configurationid&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;CONFIGURATION_ID&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;contractstartdateline&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;CONTRACT_STARTDATE_LINE&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;contractenddateline&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;CONTRACT_ENDDATE_LINE&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;dannumber&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;DAN_NUMBER&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;enduservendoracc&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;ENDUSER_VENDOR_ACC&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;enduservendoraccdeploy&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;ENDUSER_VENDOR_ACC_DEPLOY&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;marginbuilder&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;MARGIN_BUILDER&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;msofferingtype&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;MS_OFFERING_TYPE&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;msovmnthlysubsriptionmat&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;MS_OV_MNTHLY_SUBSRIPTION_MAT&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;nsp&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;NSP&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;productmodelnum&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;PRODUCT_MODEL_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;../pfx15:linenumber&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;../pfx15:linenumber&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;quotenum&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;QUOTE_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;renewalid&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;RENEWAL_ID&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;serialnumber&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;SERIAL_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;../pfx15:linenumber&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;../pfx15:linenumber&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;LCNSGSRVNumber&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;CERTIFICATION_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;current()/pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;specialdealnum&amp;quot;]/@attributename&quot;>&#xa;                        &lt;variantcondition>&#xa;                            &lt;characteristic>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;SPECIAL_DEAL_NUM&amp;quot;&quot;/>&#xa;                            &lt;/characteristic>&#xa;                            &lt;value>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:attributevalue&quot;/>&#xa;                            &lt;/value>&#xa;                            &lt;xsl:if test=&quot;tib:trim(../pfx15:linenumber)&quot;>&#xa;                                &lt;linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:linenumber)&quot;/>&#xa;                                &lt;/linenumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/variantcondition>&#xa;                    &lt;/xsl:when>&#xa;                &lt;/xsl:choose>&#xa;            &lt;/xsl:for-each>&#xa;        &lt;/ansbw6:root>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.generalactivities.mapper"
                            version="6.0.0.001"
                            xmlns:LicenceConfigurationData="/Processes/OrderCreateSAP.process/LicenceConfigurationData"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:generalactivities="http://ns.tibco.com/bw/palette/generalactivities" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Mapper"/>
                                    <value
                                    inputQName="LicenceConfigurationData:root" xsi:type="generalactivities:Mapper"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:invoke inputVariable="SalesOrderCreateServiceInput"
                name="SalesOrderCreateService" operation="create"
                outputVariable="SalesOrderCreateService"
                partnerLink="SalesOrderCreatePortType_v2_4"
                portType="ns1:SalesOrderCreatePortType_v2_4"
                tibex:copyOf="SAPVariables-SoapTimeout"
                tibex:timeout="SAPVariables-SoapTimeout" tibex:xpdlId="6c8aea71-93ad-4056-8428-9acea1841e57">
                <tibex:inputBinding expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xsl:stylesheet xmlns:pfx6="http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockRequest.xsd" xmlns:pfx91="http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceAndStockMappingResponse_v2_0.xsd" xmlns:pfx7="http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockResponse.xsd" xmlns:pfx8="http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/PriceAndStockRequest.xsd" xmlns:pfx101="http://xmlns.example.com/1437473647806" xmlns:pfx9="http://www.ingrammicro.com/product/PriceAndPriceAndStock _v2_0_Service/Resources/PriceAndPriceAndStockResponse.xsd" xmlns:pfx2="http://www.ingrammicro.com/product/PriceAndAvailability_v2_1/PriceAndAvailabilityImpl/Processes/PriceAndAvailability" xmlns:pfx3="http://www.ingrammicro.com/product/PriceAndAvailability_v2_6/PriceAndAvailabilityImpl/Processes/PriceAndAvailability" xmlns:pfx4="http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_6/types" xmlns:pfx5="http://www.ingrammicro.com/common/ServiceResponseHeader_v2_1/types" xmlns:ns121="http://www.ingrammicro.com/common/ServiceRequestHeader_v1_0/types" xmlns:ns0="http://www.ingrammicro.com/order/OrderCreateRequest_v1_0/types" xmlns:ns2="http://www.ingrammicro.com/common/ServiceRequestHeader_v2_1/types" xmlns:tib="http://www.tibco.com/bw/xslt/custom-functions" xmlns:ns1="http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_6/types" xmlns:ns4="http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_1/types" xmlns:ns3="http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types" xmlns:ns6="http://www.tibco.com/pe/EngineTypes" xmlns:ns5="http://xmlns.tibco.com/encodings/mime" xmlns:ns8="http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types" xmlns:ns7="http://www.tibco.com/pe/GenerateErrorActivity/InputSchema" xmlns:ns13="http://www.ingrammicro.com/product/ProductLookupRequest_v1_0/types" xmlns:ns12="http://www.tibco.com/schemas/EAILoggingFramework_1_0/Resources/Schema/LoggingFrameworkCDM.xsd" xmlns:ns9="http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types" xmlns:ns11="http://www.tibco.com/schemas/SplunkEAILoggingLibrary_v1_0/Resources/Common/JobSharedVariables/Schema.xsd" xmlns:ns10="http://www.tibco.com/pe/DeployedVarsType" xmlns:ns16="http://www.ingrammicro.com/product/PriceAndAvailabilityPlusRequest_v1_0/types" xmlns:ns15="http://www.ingrammicro.com/order/OrderDeleteRequest_v1_0/types" xmlns:ns14="http://www.tibco.com/schemas/OrderLTLUpdate_v1_0/Resources/Schema.xsd" xmlns:ns131="http://www.ingrammicro.com/PriceAndAvailabilityPlusRequest" xmlns:pfx19="http://www.tibco.com/schemas/SplunkEAILoggingLibrary_1_0/LoggingFrameworkResources/LoggingFrameworkSchema/ErrorHandler_V3.0.xsd" xmlns:ns41="http://www.ingrammicro.com/PriceAndAvailabilityPlusReply" xmlns:pfx17="http://webservices.ingrammicro.com/wsdl/PriceAndAvailabilityPlus/GetPriceAndAvailabilityImpl/Processes" xmlns:pfx18="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestSAP.xsd" xmlns:pfx11="http://www.ingrammicro.com/product/PriceAndAvailabilityPlus_v1_0/GetPriceAndAvailabilityImpl" xmlns:pfx12="http://www.tibco.com/xmlns/ae2xsd/2002/05/Ingram/ErrorHandlerEvent_v2_1" xmlns:pfx10="http://www.tibco.com/namespaces/tnt/plugins/jms" xmlns:pfx15="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd" xmlns:pfx16="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateAuthRequest.xsd" xmlns:pfx13="http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate" xmlns:pfx14="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd" xmlns:pfx="http://www.ingrammicro.com/product/Stock _v2_0_Service/types" xmlns:ns="http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_1/types" xmlns:pfx71="http://www.ingrammicro.com/product/Price _v2_0_Service/Resources/PriceRequest.xsd" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ns102="http://www.tibco.com/schemas/OrderDetail_v1_1/Resources/Schema.xsd" xmlns:ns81="http://www.ingrammicro.com/order/OrderCreateResponse_v1_0/types" xmlns:ns101="http://www.ingrammicro.com/OrderDetail_v1_1/Resources/OrderDetailResponse/types" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:bw="http://www.tibco.com/bw/xpath/bw-custom-functions" xmlns:pfx22="http://xmlns.example.com/1517917744445" xmlns:pfx161="http://www.ingrammicro.com/order/OrderCreate_v1_0/CreateImpl/Processes/OrderCreate" xmlns:pfx23="http://www.ingrammicro.com/order/OrderDelete_v1_0/DeleteImpl/Processes/OrderDelete" xmlns:pfx20="http://www.ingrammicro.com/order/OrderDetail" xmlns:pfx21="http://www.ingrammicro.com/Processes/OrderModify/OrderModify_Service" xmlns:pfx121="http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockRequest.xsd" xmlns:pfx24="http://www.ingrammicro.com/OrderLTLUpdate_v1_1/Resources/OrderLTLUpdateResponse/types" xmlns:pfx25="http://www.ingrammicro.com/order/OrderRelease_v1_0/ReleaseImpl/Processes/OrderRelease" xmlns:pfx81="http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceResponse.xsd" xmlns:ns71="http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions" xmlns:ns111="http://www.ingrammicro.com/order/OrderModifyRequest_v1_0/types" xmlns:ns61="http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions" xmlns:pd="http://xmlns.tibco.com/bw/process/2003" xmlns:pfx191="http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestImpulse.xsd" xmlns:ns21="http://www.ingrammicro.com/product/ProductLookupResponse_v1_0/types" xmlns:pfx111="http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockResponse.xsd" version="1.0"&gt;
    &lt;xsl:param name="LicenceConfigurationData"/&gt;
    &lt;xsl:param name="getDate"/&gt;
    &lt;xsl:param name="ProductExtendedSpecs"/&gt;
    &lt;xsl:param name="SAPVariables-POType"/&gt;
    &lt;xsl:param name="Countries-CommonCountriesList"/&gt;
    &lt;xsl:param name="Countries-SAPCountriesList"/&gt;
    &lt;xsl:param name="ExtendedSpecs"/&gt;
    &lt;xsl:param name="Countries-PR1ImlCountriesList"/&gt;
    &lt;xsl:param name="Start"/&gt;
    &lt;xsl:template name="SalesOrderCreateService-Input" match="/"&gt;
        &lt;pfx13:SalesOrderCreateInput_v2_4&gt;
            &lt;request&gt;
                &lt;ns9:ServiceRequest&gt;
                    &lt;RequestPreamble&gt;
                        &lt;CustomerNumber&gt;
                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber"/&gt;
                        &lt;/CustomerNumber&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="(contains($Countries-PR1ImlCountriesList, $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode) and upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) = &amp;quot;TRUE&amp;quot;) or (contains($Countries-SAPCountriesList, $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode) and (not(exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) or upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) != &amp;quot;TRUE&amp;quot;)) or (contains($Countries-CommonCountriesList, $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode) and (not(exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) or upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) != &amp;quot;TRUE&amp;quot;))"&gt;
                                &lt;SalesOrganization&gt;
                                    &lt;xsl:value-of select="string(document(&amp;quot;tibcr://Resources/CountryCrossRefMapping/cntry_salesorg_cmpnycode_mapping.xml&amp;quot;)/countries/country[@iso_country_code = $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode]/@sales_org)"/&gt;
                                &lt;/SalesOrganization&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;SalesOrganization&gt;
                                    &lt;xsl:value-of select="string(document(&amp;quot;tibcr://Resources/CountryCrossRefMapping/cntry_salesorg_cmpnycode_mapping.xml&amp;quot;)/countries/country[@iso_country_code = $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode]/@sales_org_iml)"/&gt;
                                &lt;/SalesOrganization&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                    &lt;/RequestPreamble&gt;
                    &lt;OrderCreateRequest&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;excludeorderdetails&amp;quot;]/@attributename]/pfx15:attributevalue) &gt; 0"&gt;
                                &lt;ExcludeOrderDetails&gt;
                                    &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;excludeorderdetails&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                                &lt;/ExcludeOrderDetails&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;ExcludeOrderDetails&gt;
                                    &lt;xsl:value-of select="&amp;quot;false&amp;quot;"/&gt;
                                &lt;/ExcludeOrderDetails&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;DistributionChannel&gt;
                            &lt;xsl:value-of select="&amp;quot;10&amp;quot;"/&gt;
                        &lt;/DistributionChannel&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) = &amp;quot;TRUE&amp;quot;"&gt;
                                &lt;Division&gt;
                                    &lt;xsl:value-of select="&amp;quot;20&amp;quot;"/&gt;
                                &lt;/Division&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;Division&gt;
                                    &lt;xsl:value-of select="&amp;quot;10&amp;quot;"/&gt;
                                &lt;/Division&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype) = 0"&gt;
                                &lt;OrderType&gt;
                                    &lt;xsl:value-of select="&amp;quot;ZOR&amp;quot;"/&gt;
                                &lt;/OrderType&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:when test="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype) != &amp;quot;&amp;quot;"&gt;
                                &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype"&gt;
                                    &lt;OrderType&gt;
                                        &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype"/&gt;
                                    &lt;/OrderType&gt;
                                &lt;/xsl:if&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;OrderType&gt;
                                    &lt;xsl:value-of select="&amp;quot;ZLCN&amp;quot;"/&gt;
                                &lt;/OrderType&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;EntryMethod&amp;quot;]/@attributename]/pfx15:attributevalue) &gt; 0"&gt;
                                &lt;CustomerPOType&gt;
                                    &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;EntryMethod&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                                &lt;/CustomerPOType&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;CustomerPOType&gt;
                                    &lt;xsl:value-of select="$SAPVariables-POType"/&gt;
                                &lt;/CustomerPOType&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;CustomerPONumber&gt;
                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:customerponumber"/&gt;
                        &lt;/CustomerPONumber&gt;
                        &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:enduserordernumber"&gt;
                            &lt;EndUserPONumber&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:enduserordernumber"/&gt;
                            &lt;/EndUserPONumber&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:currencycode) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:currencycode) != &amp;quot;&amp;quot;"&gt;
                            &lt;CurrencyCode&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:currencycode"/&gt;
                            &lt;/CurrencyCode&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:promisedate)"&gt;
                            &lt;RequestedDeliveryDate&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:promisedate"/&gt;
                            &lt;/RequestedDeliveryDate&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:billtosuffix) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:billtosuffix) != &amp;quot;&amp;quot;"&gt;
                                &lt;BillToCustomerNumber&gt;
                                    &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:billtosuffix)"/&gt;
                                &lt;/BillToCustomerNumber&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;BillToCustomerNumber&gt;
                                    &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber)"/&gt;
                                &lt;/BillToCustomerNumber&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptosuffix) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptosuffix) != &amp;quot;&amp;quot;"&gt;
                                &lt;ShipTo&gt;
                                    &lt;ID&gt;
                                        &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptosuffix)"/&gt;
                                    &lt;/ID&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name1"&gt;
                                        &lt;Name1&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name1"/&gt;
                                        &lt;/Name1&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name2"&gt;
                                        &lt;Name2&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name2"/&gt;
                                        &lt;/Name2&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name3"&gt;
                                        &lt;Name3&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name3"/&gt;
                                        &lt;/Name3&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name4"&gt;
                                        &lt;Name4&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name4"/&gt;
                                        &lt;/Name4&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline1"&gt;
                                        &lt;AddressLine1&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline1"/&gt;
                                        &lt;/AddressLine1&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline2"&gt;
                                        &lt;AddressLine2&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline2"/&gt;
                                        &lt;/AddressLine2&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline3"&gt;
                                        &lt;AddressLine3&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline3"/&gt;
                                        &lt;/AddressLine3&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline4"&gt;
                                        &lt;AddressLine4&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline4"/&gt;
                                        &lt;/AddressLine4&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:housenumber"&gt;
                                        &lt;HouseNumber&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:housenumber"/&gt;
                                        &lt;/HouseNumber&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:attention"&gt;
                                        &lt;CareOf&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:attention"/&gt;
                                        &lt;/CareOf&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:city"&gt;
                                        &lt;City&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:city"/&gt;
                                        &lt;/City&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:state"&gt;
                                        &lt;State&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:state"/&gt;
                                        &lt;/State&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:postalcode"&gt;
                                        &lt;PostalCode&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:postalcode"/&gt;
                                        &lt;/PostalCode&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:countrycode"&gt;
                                        &lt;CountryCode&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:countrycode"/&gt;
                                        &lt;/CountryCode&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:phonenumber"&gt;
                                        &lt;PhoneNumber&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:phonenumber"/&gt;
                                        &lt;/PhoneNumber&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:extensionnumber"&gt;
                                        &lt;ExtensionNumber&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:extensionnumber"/&gt;
                                        &lt;/ExtensionNumber&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:mobilenumber"&gt;
                                        &lt;MobileNumber&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:mobilenumber"/&gt;
                                        &lt;/MobileNumber&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:faxnumber"&gt;
                                        &lt;FaxNumber&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:faxnumber"/&gt;
                                        &lt;/FaxNumber&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:email"&gt;
                                        &lt;Email&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:email"/&gt;
                                        &lt;/Email&gt;
                                    &lt;/xsl:if&gt;
                                &lt;/ShipTo&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;xsl:for-each select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress"&gt;
                                    &lt;ShipTo&gt;
                                        &lt;ID&gt;
                                            &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber)"/&gt;
                                        &lt;/ID&gt;
                                        &lt;xsl:if test="pfx15:name1"&gt;
                                            &lt;Name1&gt;
                                                &lt;xsl:value-of select="pfx15:name1"/&gt;
                                            &lt;/Name1&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:name2"&gt;
                                            &lt;Name2&gt;
                                                &lt;xsl:value-of select="pfx15:name2"/&gt;
                                            &lt;/Name2&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:name3"&gt;
                                            &lt;Name3&gt;
                                                &lt;xsl:value-of select="pfx15:name3"/&gt;
                                            &lt;/Name3&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:name4"&gt;
                                            &lt;Name4&gt;
                                                &lt;xsl:value-of select="pfx15:name4"/&gt;
                                            &lt;/Name4&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:addressline1"&gt;
                                            &lt;AddressLine1&gt;
                                                &lt;xsl:value-of select="pfx15:addressline1"/&gt;
                                            &lt;/AddressLine1&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:addressline2"&gt;
                                            &lt;AddressLine2&gt;
                                                &lt;xsl:value-of select="pfx15:addressline2"/&gt;
                                            &lt;/AddressLine2&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:addressline3"&gt;
                                            &lt;AddressLine3&gt;
                                                &lt;xsl:value-of select="pfx15:addressline3"/&gt;
                                            &lt;/AddressLine3&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:addressline4"&gt;
                                            &lt;AddressLine4&gt;
                                                &lt;xsl:value-of select="pfx15:addressline4"/&gt;
                                            &lt;/AddressLine4&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:housenumber"&gt;
                                            &lt;HouseNumber&gt;
                                                &lt;xsl:value-of select="pfx15:housenumber"/&gt;
                                            &lt;/HouseNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:attention"&gt;
                                            &lt;CareOf&gt;
                                                &lt;xsl:value-of select="pfx15:attention"/&gt;
                                            &lt;/CareOf&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:city"&gt;
                                            &lt;City&gt;
                                                &lt;xsl:value-of select="pfx15:city"/&gt;
                                            &lt;/City&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:state"&gt;
                                            &lt;State&gt;
                                                &lt;xsl:value-of select="pfx15:state"/&gt;
                                            &lt;/State&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:postalcode"&gt;
                                            &lt;PostalCode&gt;
                                                &lt;xsl:value-of select="pfx15:postalcode"/&gt;
                                            &lt;/PostalCode&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:countrycode"&gt;
                                            &lt;CountryCode&gt;
                                                &lt;xsl:value-of select="pfx15:countrycode"/&gt;
                                            &lt;/CountryCode&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:phonenumber"&gt;
                                            &lt;PhoneNumber&gt;
                                                &lt;xsl:value-of select="pfx15:phonenumber"/&gt;
                                            &lt;/PhoneNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:extensionnumber"&gt;
                                            &lt;ExtensionNumber&gt;
                                                &lt;xsl:value-of select="pfx15:extensionnumber"/&gt;
                                            &lt;/ExtensionNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:mobilenumber"&gt;
                                            &lt;MobileNumber&gt;
                                                &lt;xsl:value-of select="pfx15:mobilenumber"/&gt;
                                            &lt;/MobileNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:faxnumber"&gt;
                                            &lt;FaxNumber&gt;
                                                &lt;xsl:value-of select="pfx15:faxnumber"/&gt;
                                            &lt;/FaxNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:email"&gt;
                                            &lt;Email&gt;
                                                &lt;xsl:value-of select="pfx15:email"/&gt;
                                            &lt;/Email&gt;
                                        &lt;/xsl:if&gt;
                                    &lt;/ShipTo&gt;
                                &lt;/xsl:for-each&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;SoldTo&gt;
                            &lt;ID&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber"/&gt;
                            &lt;/ID&gt;
                        &lt;/SoldTo&gt;
                        &lt;xsl:if test="string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isSalesman&amp;quot;]/@attributename]/pfx15:attributevalue) &gt; 0"&gt;
                            &lt;InsideSalesman&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isSalesman&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                            &lt;/InsideSalesman&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;osSalesman&amp;quot;]/@attributename]/pfx15:attributevalue) &gt; 0"&gt;
                            &lt;OutsideSalesman&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;osSalesman&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                            &lt;/OutsideSalesman&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:carriercode"&gt;
                            &lt;CarrierCode&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:carriercode"/&gt;
                            &lt;/CarrierCode&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipmentCompleteFlag&amp;quot;]/@attributename]/pfx15:attributevalue) &gt; 0"&gt;
                            &lt;OrderMustShipComplete&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipmentCompleteFlag&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                            &lt;/OrderMustShipComplete&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;DeliveryBlockCode&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;DeliveryBlockCode&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                            &lt;DeliveryBlockCode&gt;
                                &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;DeliveryBlockCode&amp;quot;]/@attributename]/pfx15:attributevalue)"/&gt;
                            &lt;/DeliveryBlockCode&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipNotes&amp;quot;]/@attributename]/pfx15:attributevalue) &gt; 0"&gt;
                            &lt;RequestedShippingCondition&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipNotes&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                            &lt;/RequestedShippingCondition&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:for-each select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;commenttext&amp;quot;]/@attributename]"&gt;
                            &lt;Comments&gt;
                                &lt;ID&gt;
                                    &lt;xsl:value-of select="substring-before(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)"/&gt;
                                &lt;/ID&gt;
                                &lt;Text&gt;
                                    &lt;xsl:value-of select="substring-after(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)"/&gt;
                                &lt;/Text&gt;
                                &lt;Format&gt;
                                    &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;txtFormat&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                                &lt;/Format&gt;
                            &lt;/Comments&gt;
                        &lt;/xsl:for-each&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webuserid&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webuserid&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                                &lt;WebUserID&gt;
                                    &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webuserid&amp;quot;]/@attributename]/pfx15:attributevalue)"/&gt;
                                &lt;/WebUserID&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;WebUserID&gt;
                                    &lt;xsl:value-of select="&amp;quot;{adcaf16d-5ea5-456f-b694-4356655c1828}&amp;quot;"/&gt;
                                &lt;/WebUserID&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue) and $Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue = &amp;quot;Y&amp;quot;"&gt;
                                &lt;ContinueOnError&gt;
                                    &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                                &lt;/ContinueOnError&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:when test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue) and $Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue = &amp;quot;N&amp;quot;"&gt;
                                &lt;ContinueOnError&gt;
                                    &lt;xsl:value-of select="&amp;quot;false&amp;quot;"/&gt;
                                &lt;/ContinueOnError&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;ContinueOnError&gt;
                                    &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                                &lt;/ContinueOnError&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;xsl:choose&gt;
                            &lt;xsl:when test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webipaddress&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webipaddress&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                                &lt;WebIPAddress&gt;
                                    &lt;xsl:value-of select="tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webipaddress&amp;quot;]/@attributename]/pfx15:attributevalue)"/&gt;
                                &lt;/WebIPAddress&gt;
                            &lt;/xsl:when&gt;
                            &lt;xsl:otherwise&gt;
                                &lt;WebIPAddress&gt;
                                    &lt;xsl:value-of select="&amp;quot;10.12.101.9&amp;quot;"/&gt;
                                &lt;/WebIPAddress&gt;
                            &lt;/xsl:otherwise&gt;
                        &lt;/xsl:choose&gt;
                        &lt;xsl:if test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;placeOnCustomerHold&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;placeOnCustomerHold&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                            &lt;SetOrderOnCustomerHold&gt;
                                &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                            &lt;/SetOrderOnCustomerHold&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:terms"&gt;
                            &lt;PaymentTerms&gt;
                                &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:terms"/&gt;
                            &lt;/PaymentTerms&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) != &amp;quot;&amp;quot;"&gt;
                            &lt;CreditCard&gt;
                                &lt;CardNumber&gt;
                                    &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber"/&gt;
                                &lt;/CardNumber&gt;
                                &lt;CardType&gt;
                                    &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:cardtype"/&gt;
                                &lt;/CardType&gt;
                                &lt;ExpirationDate&gt;
                                    &lt;xsl:value-of select="$getDate/expirationdate"/&gt;
                                &lt;/ExpirationDate&gt;
                                &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:securitycode"&gt;
                                    &lt;SecurityCode&gt;
                                        &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:securitycode"/&gt;
                                    &lt;/SecurityCode&gt;
                                &lt;/xsl:if&gt;
                                &lt;CardHolderName&gt;
                                    &lt;xsl:value-of select="concat(string($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:firstname), &amp;quot; &amp;quot;, string($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:lastname))"/&gt;
                                &lt;/CardHolderName&gt;
                                &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:cvvcheckbox"&gt;
                                    &lt;CVVCheckBox&gt;
                                        &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:cvvcheckbox"/&gt;
                                    &lt;/CVVCheckBox&gt;
                                &lt;/xsl:if&gt;
                            &lt;/CreditCard&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:if test="exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount) and ($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount &gt; 0)"&gt;
                            &lt;xsl:if test="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount"&gt;
                                &lt;FreightAmount&gt;
                                    &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount"/&gt;
                                &lt;/FreightAmount&gt;
                            &lt;/xsl:if&gt;
                        &lt;/xsl:if&gt;
                        &lt;xsl:for-each select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines"&gt;
                            &lt;Line&gt;
                                &lt;LineNumber&gt;
                                    &lt;xsl:value-of select="position() * 10"/&gt;
                                &lt;/LineNumber&gt;
                                &lt;xsl:if test="tib:pad-front(current()/pfx15:linenumber, 6, &amp;quot;0&amp;quot;)"&gt;
                                    &lt;CustomerLineNumber&gt;
                                        &lt;xsl:value-of select="tib:pad-front(current()/pfx15:linenumber, 6, &amp;quot;0&amp;quot;)"/&gt;
                                    &lt;/CustomerLineNumber&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="tib:substring-after-last(current()/pfx15:globalskuid, &amp;quot;-&amp;quot;)"&gt;
                                    &lt;IngramPartNumber&gt;
                                        &lt;xsl:value-of select="tib:substring-after-last(current()/pfx15:globalskuid, &amp;quot;-&amp;quot;)"/&gt;
                                    &lt;/IngramPartNumber&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="exists(current()/pfx15:productdescription) and tib:trim(current()/pfx15:productdescription) != &amp;quot;&amp;quot;"&gt;
                                    &lt;xsl:if test="current()/pfx15:productdescription"&gt;
                                        &lt;MaterialDescription&gt;
                                            &lt;xsl:value-of select="current()/pfx15:productdescription"/&gt;
                                        &lt;/MaterialDescription&gt;
                                    &lt;/xsl:if&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="current()/pfx15:vendorpartnumber"&gt;
                                    &lt;VendorPartNumber&gt;
                                        &lt;xsl:value-of select="current()/pfx15:vendorpartnumber"/&gt;
                                    &lt;/VendorPartNumber&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="current()/pfx15:customerpartnumber"&gt;
                                    &lt;CustomerPartNumber&gt;
                                        &lt;xsl:value-of select="current()/pfx15:customerpartnumber"/&gt;
                                    &lt;/CustomerPartNumber&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="current()/pfx15:warehouseid"&gt;
                                    &lt;Plant&gt;
                                        &lt;xsl:value-of select="current()/pfx15:warehouseid"/&gt;
                                    &lt;/Plant&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:choose&gt;
                                    &lt;xsl:when test="exists(current()/pfx15:enduser/pfx15:name1)"&gt;
                                        &lt;EndUserPurposeCode&gt;
                                            &lt;xsl:value-of select="&amp;quot;CREATENEW&amp;quot;"/&gt;
                                        &lt;/EndUserPurposeCode&gt;
                                    &lt;/xsl:when&gt;
                                    &lt;xsl:otherwise&gt;
                                        &lt;EndUserPurposeCode&gt;
                                            &lt;xsl:value-of select="&amp;quot;USEEXISTING&amp;quot;"/&gt;
                                        &lt;/EndUserPurposeCode&gt;
                                    &lt;/xsl:otherwise&gt;
                                &lt;/xsl:choose&gt;
                                &lt;xsl:choose&gt;
                                    &lt;xsl:when test="exists(current()/pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec/@attributename = &amp;quot;contactid&amp;quot;])"&gt;
                                        &lt;EndUserContactPurposeCode&gt;
                                            &lt;xsl:value-of select="&amp;quot;USEEXISTING&amp;quot;"/&gt;
                                        &lt;/EndUserContactPurposeCode&gt;
                                    &lt;/xsl:when&gt;
                                    &lt;xsl:otherwise&gt;
                                        &lt;EndUserContactPurposeCode&gt;
                                            &lt;xsl:value-of select="&amp;quot;CREATENEW&amp;quot;"/&gt;
                                        &lt;/EndUserContactPurposeCode&gt;
                                    &lt;/xsl:otherwise&gt;
                                &lt;/xsl:choose&gt;
                                &lt;xsl:if test="exists(current()/pfx15:enduser/pfx15:name1) or (exists(current()/pfx15:productextendedspecs[pfx15:attributename = string(document(&amp;quot;tibcr://Resources/ProductExtendedSpecs.xml&amp;quot;)/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;enduserid&amp;quot;]/@attributename)]) and exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue) != &amp;quot;&amp;quot;)"&gt;
                                    &lt;EndUser&gt;
                                        &lt;xsl:choose&gt;
                                            &lt;xsl:when test="exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue)"&gt;
                                                &lt;xsl:if test="current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue"&gt;
                                                    &lt;ID&gt;
                                                        &lt;xsl:value-of select="current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue"/&gt;
                                                    &lt;/ID&gt;
                                                &lt;/xsl:if&gt;
                                            &lt;/xsl:when&gt;
                                            &lt;xsl:otherwise&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:id"&gt;
                                                    &lt;ID&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:id"/&gt;
                                                    &lt;/ID&gt;
                                                &lt;/xsl:if&gt;
                                            &lt;/xsl:otherwise&gt;
                                        &lt;/xsl:choose&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:title"&gt;
                                            &lt;Title&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:title"/&gt;
                                            &lt;/Title&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:name1"&gt;
                                            &lt;Name1&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:name1"/&gt;
                                            &lt;/Name1&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:addressline1"&gt;
                                            &lt;AddressLine1&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline1"/&gt;
                                            &lt;/AddressLine1&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:addressline2"&gt;
                                            &lt;AddressLine2&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline2"/&gt;
                                            &lt;/AddressLine2&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:addressline3"&gt;
                                            &lt;AddressLine3&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline3"/&gt;
                                            &lt;/AddressLine3&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:addressline4"&gt;
                                            &lt;AddressLine4&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline4"/&gt;
                                            &lt;/AddressLine4&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:city"&gt;
                                            &lt;City&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:city"/&gt;
                                            &lt;/City&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:state"&gt;
                                            &lt;State&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:state"/&gt;
                                            &lt;/State&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:postalcode"&gt;
                                            &lt;PostalCode&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:postalcode"/&gt;
                                            &lt;/PostalCode&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:countrycode"&gt;
                                            &lt;CountryCode&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:countrycode"/&gt;
                                            &lt;/CountryCode&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:phonenumber"&gt;
                                            &lt;PhoneNumber&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:phonenumber"/&gt;
                                            &lt;/PhoneNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:extensionnumber"&gt;
                                            &lt;ExtensionNumber&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:extensionnumber"/&gt;
                                            &lt;/ExtensionNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:faxnumber"&gt;
                                            &lt;FaxNumber&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:faxnumber"/&gt;
                                            &lt;/FaxNumber&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="pfx15:enduser/pfx15:email"&gt;
                                            &lt;Email&gt;
                                                &lt;xsl:value-of select="pfx15:enduser/pfx15:email"/&gt;
                                            &lt;/Email&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="exists(current()/pfx15:productextendedspecs/pfx15:attributename) and tib:trim(current()/pfx15:productextendedspecs[upper-case(pfx15:attributename) = &amp;quot;SEGMENTATION&amp;quot;]/pfx15:attributename) != &amp;quot;&amp;quot;"&gt;
                                            &lt;xsl:if test="current()/pfx15:productextendedspecs[upper-case(pfx15:attributename) = &amp;quot;SEGMENTATION&amp;quot;]/pfx15:attributevalue"&gt;
                                                &lt;Segmentation&gt;
                                                    &lt;xsl:value-of select="current()/pfx15:productextendedspecs[upper-case(pfx15:attributename) = &amp;quot;SEGMENTATION&amp;quot;]/pfx15:attributevalue"/&gt;
                                                &lt;/Segmentation&gt;
                                            &lt;/xsl:if&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="(exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue) and current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue != &amp;quot;&amp;quot;) or ((exists(current()/pfx15:enduser/pfx15:name2)) and (current()/pfx15:enduser/pfx15:name2) != &amp;quot;&amp;quot;)"&gt;
                                            &lt;EndUserContact&gt;
                                                &lt;xsl:if test="current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue"&gt;
                                                    &lt;EndUserContactID&gt;
                                                        &lt;xsl:value-of select="current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue"/&gt;
                                                    &lt;/EndUserContactID&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:name2"&gt;
                                                    &lt;Name1&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:name2"/&gt;
                                                    &lt;/Name1&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:name3"&gt;
                                                    &lt;Name2&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:name3"/&gt;
                                                    &lt;/Name2&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;SearchTerm1&gt;
                                                    &lt;xsl:value-of select="../../pfx15:requestpreamble/pfx15:customernumber"/&gt;
                                                &lt;/SearchTerm1&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:addressline1"&gt;
                                                    &lt;AddressLine1&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline1"/&gt;
                                                    &lt;/AddressLine1&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:addressline2"&gt;
                                                    &lt;AddressLine2&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline2"/&gt;
                                                    &lt;/AddressLine2&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:addressline3"&gt;
                                                    &lt;AddressLine3&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline3"/&gt;
                                                    &lt;/AddressLine3&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:addressline4"&gt;
                                                    &lt;AddressLine4&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:addressline4"/&gt;
                                                    &lt;/AddressLine4&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:postalcode"&gt;
                                                    &lt;PostalCode&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:postalcode"/&gt;
                                                    &lt;/PostalCode&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:city"&gt;
                                                    &lt;City&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:city"/&gt;
                                                    &lt;/City&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:countrycode"&gt;
                                                    &lt;CountryCode&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:countrycode"/&gt;
                                                    &lt;/CountryCode&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:state"&gt;
                                                    &lt;State&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:state"/&gt;
                                                    &lt;/State&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:phonenumber"&gt;
                                                    &lt;PhoneNumber&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:phonenumber"/&gt;
                                                    &lt;/PhoneNumber&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:extensionnumber"&gt;
                                                    &lt;ExtensionNumber&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:extensionnumber"/&gt;
                                                    &lt;/ExtensionNumber&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:faxnumber"&gt;
                                                    &lt;FaxNumber&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:faxnumber"/&gt;
                                                    &lt;/FaxNumber&gt;
                                                &lt;/xsl:if&gt;
                                                &lt;xsl:if test="pfx15:enduser/pfx15:email"&gt;
                                                    &lt;Email&gt;
                                                        &lt;xsl:value-of select="pfx15:enduser/pfx15:email"/&gt;
                                                    &lt;/Email&gt;
                                                &lt;/xsl:if&gt;
                                            &lt;/EndUserContact&gt;
                                        &lt;/xsl:if&gt;
                                    &lt;/EndUser&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="current()/pfx15:enduserponumber"&gt;
                                    &lt;EndUserPONumber&gt;
                                        &lt;xsl:value-of select="current()/pfx15:enduserponumber"/&gt;
                                    &lt;/EndUserPONumber&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="exists(current()/pfx15:quantity) and tib:trim(current()/pfx15:quantity) != &amp;quot;&amp;quot;"&gt;
                                    &lt;xsl:if test="current()/pfx15:quantity"&gt;
                                        &lt;RequestedQuantity&gt;
                                            &lt;xsl:value-of select="current()/pfx15:quantity"/&gt;
                                        &lt;/RequestedQuantity&gt;
                                    &lt;/xsl:if&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="exists(current()/pfx15:unitprice) and tib:trim(current()/pfx15:unitprice) != &amp;quot;&amp;quot;"&gt;
                                    &lt;xsl:if test="current()/pfx15:unitprice"&gt;
                                        &lt;RequestedUnitPrice&gt;
                                            &lt;xsl:value-of select="current()/pfx15:unitprice"/&gt;
                                        &lt;/RequestedUnitPrice&gt;
                                    &lt;/xsl:if&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="exists(current()/pfx15:specialprice) and tib:trim(current()/pfx15:specialprice) != &amp;quot;&amp;quot;"&gt;
                                    &lt;FixedPrice&gt;
                                        &lt;xsl:value-of select="tib:trim(current()/pfx15:specialprice)"/&gt;
                                    &lt;/FixedPrice&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:choose&gt;
                                    &lt;xsl:when test="exists(current()/pfx15:bidnumber) and tib:trim(current()/pfx15:bidnumber) != &amp;quot;&amp;quot;"&gt;
                                        &lt;BidID&gt;
                                            &lt;xsl:value-of select="tib:trim(current()/pfx15:bidnumber)"/&gt;
                                        &lt;/BidID&gt;
                                    &lt;/xsl:when&gt;
                                    &lt;xsl:when test="exists(../pfx15:extendedspecs[pfx15:attributename = &amp;quot;dealid&amp;quot;]/pfx15:attributevalue) and tib:trim(../pfx15:extendedspecs[pfx15:attributename = &amp;quot;dealid&amp;quot;]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                                        &lt;BidID&gt;
                                            &lt;xsl:value-of select="tib:trim(../pfx15:extendedspecs[pfx15:attributename = &amp;quot;dealid&amp;quot;]/pfx15:attributevalue)"/&gt;
                                        &lt;/BidID&gt;
                                    &lt;/xsl:when&gt;
                                &lt;/xsl:choose&gt;
                                &lt;xsl:if test="tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;promisedate&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                                    &lt;RequestedDeliveryDate&gt;
                                        &lt;xsl:value-of select="tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;promisedate&amp;quot;]/@attributename]/pfx15:attributevalue)"/&gt;
                                    &lt;/RequestedDeliveryDate&gt;
                                &lt;/xsl:if&gt;
                                &lt;ItemCategory&gt;
                                    &lt;xsl:value-of select="pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;itemCategory&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                                &lt;/ItemCategory&gt;
                                &lt;xsl:if test="(exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;costoverrideflag&amp;quot;]/pfx15:attributevalue) and tib:trim(lower-case(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;costoverrideflag&amp;quot;]/pfx15:attributevalue)) = &amp;quot;true&amp;quot;) and (exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue) and tib:trim(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue) != &amp;quot;&amp;quot;)"&gt;
                                    &lt;xsl:if test="current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue"&gt;
                                        &lt;ManualPOCC&gt;
                                            &lt;xsl:value-of select="current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue"/&gt;
                                        &lt;/ManualPOCC&gt;
                                    &lt;/xsl:if&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:for-each select="pfx15:productextendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec/@attributename = &amp;quot;commenttext&amp;quot;]"&gt;
                                    &lt;Comments&gt;
                                        &lt;ID&gt;
                                            &lt;xsl:value-of select="substring-before(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)"/&gt;
                                        &lt;/ID&gt;
                                        &lt;Text&gt;
                                            &lt;xsl:value-of select="substring-after(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)"/&gt;
                                        &lt;/Text&gt;
                                        &lt;Format&gt;
                                            &lt;xsl:value-of select="$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;txtFormat&amp;quot;]/@attributename]/pfx15:attributevalue"/&gt;
                                        &lt;/Format&gt;
                                    &lt;/Comments&gt;
                                &lt;/xsl:for-each&gt;
                                &lt;LicenseConfiguration&gt;
                                    &lt;xsl:if test="current()/pfx15:linenumber"&gt;
                                        &lt;ConfigID&gt;
                                            &lt;xsl:value-of select="current()/pfx15:linenumber"/&gt;
                                        &lt;/ConfigID&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;xsl:if test="current()/pfx15:linenumber"&gt;
                                        &lt;RootID&gt;
                                            &lt;xsl:value-of select="current()/pfx15:linenumber"/&gt;
                                        &lt;/RootID&gt;
                                    &lt;/xsl:if&gt;
                                    &lt;IsComplete&gt;
                                        &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                                    &lt;/IsComplete&gt;
                                    &lt;IsConsistent&gt;
                                        &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                                    &lt;/IsConsistent&gt;
                                    &lt;Instance&gt;
                                        &lt;xsl:if test="current()/pfx15:linenumber"&gt;
                                            &lt;InstanceID&gt;
                                                &lt;xsl:value-of select="current()/pfx15:linenumber"/&gt;
                                            &lt;/InstanceID&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;ObjectKey&gt;
                                            &lt;xsl:value-of select="tib:substring-after-last(current()/pfx15:globalskuid, &amp;quot;-&amp;quot;)"/&gt;
                                        &lt;/ObjectKey&gt;
                                        &lt;ObjectType&gt;
                                            &lt;xsl:value-of select="&amp;quot;MARA&amp;quot;"/&gt;
                                        &lt;/ObjectType&gt;
                                        &lt;ClassType&gt;
                                            &lt;xsl:value-of select="&amp;quot;300&amp;quot;"/&gt;
                                        &lt;/ClassType&gt;
                                        &lt;IsComplete&gt;
                                            &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                                        &lt;/IsComplete&gt;
                                        &lt;IsConsistent&gt;
                                            &lt;xsl:value-of select="&amp;quot;true&amp;quot;"/&gt;
                                        &lt;/IsConsistent&gt;
                                        &lt;xsl:if test="current()/pfx15:quantity"&gt;
                                            &lt;Quantity&gt;
                                                &lt;xsl:value-of select="current()/pfx15:quantity"/&gt;
                                            &lt;/Quantity&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;QuantityUnit&gt;
                                            &lt;xsl:value-of select="&amp;quot;EA&amp;quot;"/&gt;
                                        &lt;/QuantityUnit&gt;
                                        &lt;xsl:if test="count($LicenceConfigurationData/variantcondition/linenumber = tib:trim(current()/pfx15:linenumber)) &gt; 0"&gt;
                                            &lt;xsl:for-each select="$LicenceConfigurationData/variantcondition[linenumber = current()/pfx15:linenumber]"&gt;
                                                &lt;Characteristic&gt;
                                                    &lt;Name&gt;
                                                        &lt;xsl:value-of select="current()/characteristic"/&gt;
                                                    &lt;/Name&gt;
                                                    &lt;Value&gt;
                                                        &lt;xsl:value-of select="current()/value"/&gt;
                                                    &lt;/Value&gt;
                                                &lt;/Characteristic&gt;
                                            &lt;/xsl:for-each&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="count($LicenceConfigurationData/variantcondition[tib:trim(linenumber) = &amp;quot;&amp;quot;]) &gt; 0"&gt;
                                            &lt;xsl:for-each select="$LicenceConfigurationData/variantcondition[tib:trim(linenumber) = &amp;quot;&amp;quot;]"&gt;
                                                &lt;Characteristic&gt;
                                                    &lt;Name&gt;
                                                        &lt;xsl:value-of select="current()/characteristic"/&gt;
                                                    &lt;/Name&gt;
                                                    &lt;Value&gt;
                                                        &lt;xsl:value-of select="current()/value"/&gt;
                                                    &lt;/Value&gt;
                                                &lt;/Characteristic&gt;
                                            &lt;/xsl:for-each&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="count(pfx15:vmf/pfx15:vmfspecs) &gt; 0"&gt;
                                            &lt;xsl:for-each select="pfx15:vmf/pfx15:vmfspecs[exists(pfx15:attributevalue) and tib:trim(pfx15:attributevalue) != &amp;quot;&amp;quot;]"&gt;
                                                &lt;Characteristic&gt;
                                                    &lt;Name&gt;
                                                        &lt;xsl:value-of select="pfx15:attributename"/&gt;
                                                    &lt;/Name&gt;
                                                    &lt;Value&gt;
                                                        &lt;xsl:value-of select="pfx15:attributevalue"/&gt;
                                                    &lt;/Value&gt;
                                                &lt;/Characteristic&gt;
                                            &lt;/xsl:for-each&gt;
                                        &lt;/xsl:if&gt;
                                        &lt;xsl:if test="count(../pfx15:vmf/pfx15:vmfspecs) &gt; 0"&gt;
                                            &lt;xsl:for-each select="../pfx15:vmf/pfx15:vmfspecs[tib:trim(pfx15:attributevalue) != &amp;quot;&amp;quot;]"&gt;
                                                &lt;Characteristic&gt;
                                                    &lt;Name&gt;
                                                        &lt;xsl:value-of select="pfx15:attributename"/&gt;
                                                    &lt;/Name&gt;
                                                    &lt;Value&gt;
                                                        &lt;xsl:value-of select="pfx15:attributevalue"/&gt;
                                                    &lt;/Value&gt;
                                                &lt;/Characteristic&gt;
                                            &lt;/xsl:for-each&gt;
                                        &lt;/xsl:if&gt;
                                    &lt;/Instance&gt;
                                &lt;/LicenseConfiguration&gt;
                                &lt;xsl:if test="current()/pfx15:currency"&gt;
                                    &lt;Currency&gt;
                                        &lt;xsl:value-of select="current()/pfx15:currency"/&gt;
                                    &lt;/Currency&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="exists(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termStartDate&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termStartDate&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                                    &lt;ContractStartDate&gt;
                                        &lt;xsl:value-of select="tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termStartDate&amp;quot;]/@attributename]/pfx15:attributevalue)"/&gt;
                                    &lt;/ContractStartDate&gt;
                                &lt;/xsl:if&gt;
                                &lt;xsl:if test="exists(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termEndDate&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termEndDate&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;"&gt;
                                    &lt;ContractEndDate&gt;
                                        &lt;xsl:value-of select="tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termEndDate&amp;quot;]/@attributename]/pfx15:attributevalue)"/&gt;
                                    &lt;/ContractEndDate&gt;
                                &lt;/xsl:if&gt;
                            &lt;/Line&gt;
                        &lt;/xsl:for-each&gt;
                    &lt;/OrderCreateRequest&gt;
                &lt;/ns9:ServiceRequest&gt;
            &lt;/request&gt;
        &lt;/pfx13:SalesOrderCreateInput_v2_4&gt;
    &lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;</tibex:inputBinding>
                <tibex:inputBindings>
                    <tibex:partBinding
                        expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:ns9=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:pfx15=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:pfx13=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;1.0&quot;>&#xa;    &lt;xsl:param name=&quot;LicenceConfigurationData&quot;/>&#xa;    &lt;xsl:param name=&quot;getDate&quot;/>&#xa;    &lt;xsl:param name=&quot;ProductExtendedSpecs&quot;/>&#xa;    &lt;xsl:param name=&quot;SAPVariables-POType&quot;/>&#xa;    &lt;xsl:param name=&quot;Countries-CommonCountriesList&quot;/>&#xa;    &lt;xsl:param name=&quot;Countries-SAPCountriesList&quot;/>&#xa;    &lt;xsl:param name=&quot;ExtendedSpecs&quot;/>&#xa;    &lt;xsl:param name=&quot;Countries-PR1ImlCountriesList&quot;/>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:param name=&quot;Countries-PR1ImlCountriesList&quot;/>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;SalesOrderCreateService-Input&quot; match=&quot;/&quot;>&#xa;        &lt;ns9:ServiceRequest>&#xa;            &lt;RequestPreamble>&#xa;                &lt;CustomerNumber>&#xa;                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber&quot;/>&#xa;                &lt;/CustomerNumber>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;(contains($Countries-PR1ImlCountriesList, $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode) and upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) = &amp;quot;TRUE&amp;quot;) or (contains($Countries-SAPCountriesList, $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode) and (not(exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) or upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) != &amp;quot;TRUE&amp;quot;)) or (contains($Countries-CommonCountriesList, $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode) and (not(exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) or upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) != &amp;quot;TRUE&amp;quot;))&quot;>&#xa;                        &lt;SalesOrganization>&#xa;                            &lt;xsl:value-of select=&quot;string(document(&amp;quot;tibcr://Resources/CountryCrossRefMapping/cntry_salesorg_cmpnycode_mapping.xml&amp;quot;)/countries/country[@iso_country_code = $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode]/@sales_org)&quot;/>&#xa;                        &lt;/SalesOrganization>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;SalesOrganization>&#xa;                            &lt;xsl:value-of select=&quot;string(document(&amp;quot;tibcr://Resources/CountryCrossRefMapping/cntry_salesorg_cmpnycode_mapping.xml&amp;quot;)/countries/country[@iso_country_code = $Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:isocountrycode]/@sales_org_iml)&quot;/>&#xa;                        &lt;/SalesOrganization>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;            &lt;/RequestPreamble>&#xa;            &lt;OrderCreateRequest>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;excludeorderdetails&amp;quot;]/@attributename]/pfx15:attributevalue) > 0&quot;>&#xa;                        &lt;ExcludeOrderDetails>&#xa;                            &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;excludeorderdetails&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                        &lt;/ExcludeOrderDetails>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;ExcludeOrderDetails>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;false&amp;quot;&quot;/>&#xa;                        &lt;/ExcludeOrderDetails>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;DistributionChannel>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;10&amp;quot;&quot;/>&#xa;                &lt;/DistributionChannel>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;upper-case(tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[lower-case(pfx15:attributename) = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isIML&amp;quot;]/@attributename]/pfx15:attributevalue)) = &amp;quot;TRUE&amp;quot;&quot;>&#xa;                        &lt;Division>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;20&amp;quot;&quot;/>&#xa;                        &lt;/Division>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;Division>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;10&amp;quot;&quot;/>&#xa;                        &lt;/Division>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype) = 0&quot;>&#xa;                        &lt;OrderType>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;ZOR&amp;quot;&quot;/>&#xa;                        &lt;/OrderType>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype) != &amp;quot;&amp;quot;&quot;>&#xa;                        &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype&quot;>&#xa;                            &lt;OrderType>&#xa;                                &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:ordertype&quot;/>&#xa;                            &lt;/OrderType>&#xa;                        &lt;/xsl:if>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;OrderType>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;ZLCN&amp;quot;&quot;/>&#xa;                        &lt;/OrderType>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;EntryMethod&amp;quot;]/@attributename]/pfx15:attributevalue) > 0&quot;>&#xa;                        &lt;CustomerPOType>&#xa;                            &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;EntryMethod&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                        &lt;/CustomerPOType>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;CustomerPOType>&#xa;                            &lt;xsl:value-of select=&quot;$SAPVariables-POType&quot;/>&#xa;                        &lt;/CustomerPOType>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;CustomerPONumber>&#xa;                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:customerponumber&quot;/>&#xa;                &lt;/CustomerPONumber>&#xa;                &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:enduserordernumber&quot;>&#xa;                    &lt;EndUserPONumber>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:enduserordernumber&quot;/>&#xa;                    &lt;/EndUserPONumber>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:currencycode) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:currencycode) != &amp;quot;&amp;quot;&quot;>&#xa;                    &lt;CurrencyCode>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:currencycode&quot;/>&#xa;                    &lt;/CurrencyCode>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:promisedate)&quot;>&#xa;                    &lt;RequestedDeliveryDate>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:promisedate&quot;/>&#xa;                    &lt;/RequestedDeliveryDate>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:billtosuffix) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:billtosuffix) != &amp;quot;&amp;quot;&quot;>&#xa;                        &lt;BillToCustomerNumber>&#xa;                            &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:billtosuffix)&quot;/>&#xa;                        &lt;/BillToCustomerNumber>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;BillToCustomerNumber>&#xa;                            &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber)&quot;/>&#xa;                        &lt;/BillToCustomerNumber>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptosuffix) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptosuffix) != &amp;quot;&amp;quot;&quot;>&#xa;                        &lt;ShipTo>&#xa;                            &lt;ID>&#xa;                                &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptosuffix)&quot;/>&#xa;                            &lt;/ID>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name1&quot;>&#xa;                                &lt;Name1>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name1&quot;/>&#xa;                                &lt;/Name1>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name2&quot;>&#xa;                                &lt;Name2>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name2&quot;/>&#xa;                                &lt;/Name2>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name3&quot;>&#xa;                                &lt;Name3>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name3&quot;/>&#xa;                                &lt;/Name3>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name4&quot;>&#xa;                                &lt;Name4>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:name4&quot;/>&#xa;                                &lt;/Name4>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline1&quot;>&#xa;                                &lt;AddressLine1>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline1&quot;/>&#xa;                                &lt;/AddressLine1>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline2&quot;>&#xa;                                &lt;AddressLine2>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline2&quot;/>&#xa;                                &lt;/AddressLine2>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline3&quot;>&#xa;                                &lt;AddressLine3>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline3&quot;/>&#xa;                                &lt;/AddressLine3>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline4&quot;>&#xa;                                &lt;AddressLine4>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:addressline4&quot;/>&#xa;                                &lt;/AddressLine4>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:housenumber&quot;>&#xa;                                &lt;HouseNumber>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:housenumber&quot;/>&#xa;                                &lt;/HouseNumber>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:attention&quot;>&#xa;                                &lt;CareOf>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:attention&quot;/>&#xa;                                &lt;/CareOf>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:city&quot;>&#xa;                                &lt;City>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:city&quot;/>&#xa;                                &lt;/City>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:state&quot;>&#xa;                                &lt;State>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:state&quot;/>&#xa;                                &lt;/State>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:postalcode&quot;>&#xa;                                &lt;PostalCode>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:postalcode&quot;/>&#xa;                                &lt;/PostalCode>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:countrycode&quot;>&#xa;                                &lt;CountryCode>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:countrycode&quot;/>&#xa;                                &lt;/CountryCode>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:phonenumber&quot;>&#xa;                                &lt;PhoneNumber>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:phonenumber&quot;/>&#xa;                                &lt;/PhoneNumber>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:extensionnumber&quot;>&#xa;                                &lt;ExtensionNumber>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:extensionnumber&quot;/>&#xa;                                &lt;/ExtensionNumber>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:mobilenumber&quot;>&#xa;                                &lt;MobileNumber>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:mobilenumber&quot;/>&#xa;                                &lt;/MobileNumber>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:faxnumber&quot;>&#xa;                                &lt;FaxNumber>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:faxnumber&quot;/>&#xa;                                &lt;/FaxNumber>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:email&quot;>&#xa;                                &lt;Email>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress/pfx15:email&quot;/>&#xa;                                &lt;/Email>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/ShipTo>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;xsl:for-each select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:shiptoaddress&quot;>&#xa;                            &lt;ShipTo>&#xa;                                &lt;ID>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber)&quot;/>&#xa;                                &lt;/ID>&#xa;                                &lt;xsl:if test=&quot;pfx15:name1&quot;>&#xa;                                    &lt;Name1>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:name1&quot;/>&#xa;                                    &lt;/Name1>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:name2&quot;>&#xa;                                    &lt;Name2>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:name2&quot;/>&#xa;                                    &lt;/Name2>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:name3&quot;>&#xa;                                    &lt;Name3>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:name3&quot;/>&#xa;                                    &lt;/Name3>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:name4&quot;>&#xa;                                    &lt;Name4>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:name4&quot;/>&#xa;                                    &lt;/Name4>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:addressline1&quot;>&#xa;                                    &lt;AddressLine1>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:addressline1&quot;/>&#xa;                                    &lt;/AddressLine1>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:addressline2&quot;>&#xa;                                    &lt;AddressLine2>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:addressline2&quot;/>&#xa;                                    &lt;/AddressLine2>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:addressline3&quot;>&#xa;                                    &lt;AddressLine3>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:addressline3&quot;/>&#xa;                                    &lt;/AddressLine3>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:addressline4&quot;>&#xa;                                    &lt;AddressLine4>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:addressline4&quot;/>&#xa;                                    &lt;/AddressLine4>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:housenumber&quot;>&#xa;                                    &lt;HouseNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:housenumber&quot;/>&#xa;                                    &lt;/HouseNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:attention&quot;>&#xa;                                    &lt;CareOf>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:attention&quot;/>&#xa;                                    &lt;/CareOf>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:city&quot;>&#xa;                                    &lt;City>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:city&quot;/>&#xa;                                    &lt;/City>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:state&quot;>&#xa;                                    &lt;State>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:state&quot;/>&#xa;                                    &lt;/State>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:postalcode&quot;>&#xa;                                    &lt;PostalCode>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:postalcode&quot;/>&#xa;                                    &lt;/PostalCode>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:countrycode&quot;>&#xa;                                    &lt;CountryCode>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:countrycode&quot;/>&#xa;                                    &lt;/CountryCode>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:phonenumber&quot;>&#xa;                                    &lt;PhoneNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:phonenumber&quot;/>&#xa;                                    &lt;/PhoneNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:extensionnumber&quot;>&#xa;                                    &lt;ExtensionNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:extensionnumber&quot;/>&#xa;                                    &lt;/ExtensionNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:mobilenumber&quot;>&#xa;                                    &lt;MobileNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:mobilenumber&quot;/>&#xa;                                    &lt;/MobileNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:faxnumber&quot;>&#xa;                                    &lt;FaxNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:faxnumber&quot;/>&#xa;                                    &lt;/FaxNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:email&quot;>&#xa;                                    &lt;Email>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:email&quot;/>&#xa;                                    &lt;/Email>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/ShipTo>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;SoldTo>&#xa;                    &lt;ID>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:requestpreamble/pfx15:customernumber&quot;/>&#xa;                    &lt;/ID>&#xa;                &lt;/SoldTo>&#xa;                &lt;xsl:if test=&quot;string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isSalesman&amp;quot;]/@attributename]/pfx15:attributevalue) > 0&quot;>&#xa;                    &lt;InsideSalesman>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;isSalesman&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                    &lt;/InsideSalesman>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;osSalesman&amp;quot;]/@attributename]/pfx15:attributevalue) > 0&quot;>&#xa;                    &lt;OutsideSalesman>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;osSalesman&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                    &lt;/OutsideSalesman>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:carriercode&quot;>&#xa;                    &lt;CarrierCode>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:carriercode&quot;/>&#xa;                    &lt;/CarrierCode>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipmentCompleteFlag&amp;quot;]/@attributename]/pfx15:attributevalue) > 0&quot;>&#xa;                    &lt;OrderMustShipComplete>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipmentCompleteFlag&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                    &lt;/OrderMustShipComplete>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;DeliveryBlockCode&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;DeliveryBlockCode&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                    &lt;DeliveryBlockCode>&#xa;                        &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;DeliveryBlockCode&amp;quot;]/@attributename]/pfx15:attributevalue)&quot;/>&#xa;                    &lt;/DeliveryBlockCode>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;string-length($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipNotes&amp;quot;]/@attributename]/pfx15:attributevalue) > 0&quot;>&#xa;                    &lt;RequestedShippingCondition>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;shipNotes&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                    &lt;/RequestedShippingCondition>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:for-each select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;commenttext&amp;quot;]/@attributename]&quot;>&#xa;                    &lt;Comments>&#xa;                        &lt;ID>&#xa;                            &lt;xsl:value-of select=&quot;substring-before(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)&quot;/>&#xa;                        &lt;/ID>&#xa;                        &lt;Text>&#xa;                            &lt;xsl:value-of select=&quot;substring-after(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)&quot;/>&#xa;                        &lt;/Text>&#xa;                        &lt;Format>&#xa;                            &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;txtFormat&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                        &lt;/Format>&#xa;                    &lt;/Comments>&#xa;                &lt;/xsl:for-each>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webuserid&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webuserid&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                        &lt;WebUserID>&#xa;                            &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webuserid&amp;quot;]/@attributename]/pfx15:attributevalue)&quot;/>&#xa;                        &lt;/WebUserID>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;WebUserID>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;{adcaf16d-5ea5-456f-b694-4356655c1828}&amp;quot;&quot;/>&#xa;                        &lt;/WebUserID>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue) and $Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue = &amp;quot;Y&amp;quot;&quot;>&#xa;                        &lt;ContinueOnError>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                        &lt;/ContinueOnError>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:when test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue) and $Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;continueonerror&amp;quot;]/pfx15:attributevalue = &amp;quot;N&amp;quot;&quot;>&#xa;                        &lt;ContinueOnError>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;false&amp;quot;&quot;/>&#xa;                        &lt;/ContinueOnError>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;ContinueOnError>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                        &lt;/ContinueOnError>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;xsl:choose>&#xa;                    &lt;xsl:when test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webipaddress&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webipaddress&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                        &lt;WebIPAddress>&#xa;                            &lt;xsl:value-of select=&quot;tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;webipaddress&amp;quot;]/@attributename]/pfx15:attributevalue)&quot;/>&#xa;                        &lt;/WebIPAddress>&#xa;                    &lt;/xsl:when>&#xa;                    &lt;xsl:otherwise>&#xa;                        &lt;WebIPAddress>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;10.12.101.9&amp;quot;&quot;/>&#xa;                        &lt;/WebIPAddress>&#xa;                    &lt;/xsl:otherwise>&#xa;                &lt;/xsl:choose>&#xa;                &lt;xsl:if test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;placeOnCustomerHold&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec[@tagname = &amp;quot;placeOnCustomerHold&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                    &lt;SetOrderOnCustomerHold>&#xa;                        &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                    &lt;/SetOrderOnCustomerHold>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:terms&quot;>&#xa;                    &lt;PaymentTerms>&#xa;                        &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:terms&quot;/>&#xa;                    &lt;/PaymentTerms>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) and tib:trim($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber) != &amp;quot;&amp;quot;&quot;>&#xa;                    &lt;CreditCard>&#xa;                        &lt;CardNumber>&#xa;                            &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:creditcardnumber&quot;/>&#xa;                        &lt;/CardNumber>&#xa;                        &lt;CardType>&#xa;                            &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:cardtype&quot;/>&#xa;                        &lt;/CardType>&#xa;                        &lt;ExpirationDate>&#xa;                            &lt;xsl:value-of select=&quot;$getDate/expirationdate&quot;/>&#xa;                        &lt;/ExpirationDate>&#xa;                        &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:securitycode&quot;>&#xa;                            &lt;SecurityCode>&#xa;                                &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:securitycode&quot;/>&#xa;                            &lt;/SecurityCode>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;CardHolderName>&#xa;                            &lt;xsl:value-of select=&quot;concat(string($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:firstname), &amp;quot; &amp;quot;, string($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:lastname))&quot;/>&#xa;                        &lt;/CardHolderName>&#xa;                        &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:cvvcheckbox&quot;>&#xa;                            &lt;CVVCheckBox>&#xa;                                &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:creditcarddetails/pfx15:cvvcheckbox&quot;/>&#xa;                            &lt;/CVVCheckBox>&#xa;                        &lt;/xsl:if>&#xa;                    &lt;/CreditCard>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:if test=&quot;exists($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount) and ($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount > 0)&quot;>&#xa;                    &lt;xsl:if test=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount&quot;>&#xa;                        &lt;FreightAmount>&#xa;                            &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:freightamount&quot;/>&#xa;                        &lt;/FreightAmount>&#xa;                    &lt;/xsl:if>&#xa;                &lt;/xsl:if>&#xa;                &lt;xsl:for-each select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines&quot;>&#xa;                    &lt;Line>&#xa;                        &lt;LineNumber>&#xa;                            &lt;xsl:value-of select=&quot;position() * 10&quot;/>&#xa;                        &lt;/LineNumber>&#xa;                        &lt;xsl:if test=&quot;tib:pad-front(current()/pfx15:linenumber, 6, &amp;quot;0&amp;quot;)&quot;>&#xa;                            &lt;CustomerLineNumber>&#xa;                                &lt;xsl:value-of select=&quot;tib:pad-front(current()/pfx15:linenumber, 6, &amp;quot;0&amp;quot;)&quot;/>&#xa;                            &lt;/CustomerLineNumber>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;tib:substring-after-last(current()/pfx15:globalskuid, &amp;quot;-&amp;quot;)&quot;>&#xa;                            &lt;IngramPartNumber>&#xa;                                &lt;xsl:value-of select=&quot;tib:substring-after-last(current()/pfx15:globalskuid, &amp;quot;-&amp;quot;)&quot;/>&#xa;                            &lt;/IngramPartNumber>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists(current()/pfx15:productdescription) and tib:trim(current()/pfx15:productdescription) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;current()/pfx15:productdescription&quot;>&#xa;                                &lt;MaterialDescription>&#xa;                                    &lt;xsl:value-of select=&quot;current()/pfx15:productdescription&quot;/>&#xa;                                &lt;/MaterialDescription>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;current()/pfx15:vendorpartnumber&quot;>&#xa;                            &lt;VendorPartNumber>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:vendorpartnumber&quot;/>&#xa;                            &lt;/VendorPartNumber>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;current()/pfx15:customerpartnumber&quot;>&#xa;                            &lt;CustomerPartNumber>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:customerpartnumber&quot;/>&#xa;                            &lt;/CustomerPartNumber>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;current()/pfx15:warehouseid&quot;>&#xa;                            &lt;Plant>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:warehouseid&quot;/>&#xa;                            &lt;/Plant>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists(current()/pfx15:enduser/pfx15:name1)&quot;>&#xa;                                &lt;EndUserPurposeCode>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;CREATENEW&amp;quot;&quot;/>&#xa;                                &lt;/EndUserPurposeCode>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;EndUserPurposeCode>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;USEEXISTING&amp;quot;&quot;/>&#xa;                                &lt;/EndUserPurposeCode>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists(current()/pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec/@attributename = &amp;quot;contactid&amp;quot;])&quot;>&#xa;                                &lt;EndUserContactPurposeCode>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;USEEXISTING&amp;quot;&quot;/>&#xa;                                &lt;/EndUserContactPurposeCode>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;EndUserContactPurposeCode>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;CREATENEW&amp;quot;&quot;/>&#xa;                                &lt;/EndUserContactPurposeCode>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                        &lt;xsl:if test=&quot;exists(current()/pfx15:enduser/pfx15:name1) or (exists(current()/pfx15:productextendedspecs[pfx15:attributename = string(document(&amp;quot;tibcr://Resources/ProductExtendedSpecs.xml&amp;quot;)/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;enduserid&amp;quot;]/@attributename)]) and exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue) != &amp;quot;&amp;quot;)&quot;>&#xa;                            &lt;EndUser>&#xa;                                &lt;xsl:choose>&#xa;                                    &lt;xsl:when test=&quot;exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue)&quot;>&#xa;                                        &lt;xsl:if test=&quot;current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue&quot;>&#xa;                                            &lt;ID>&#xa;                                                &lt;xsl:value-of select=&quot;current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;enduserid&amp;quot;]/pfx15:attributevalue&quot;/>&#xa;                                            &lt;/ID>&#xa;                                        &lt;/xsl:if>&#xa;                                    &lt;/xsl:when>&#xa;                                    &lt;xsl:otherwise>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:id&quot;>&#xa;                                            &lt;ID>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:id&quot;/>&#xa;                                            &lt;/ID>&#xa;                                        &lt;/xsl:if>&#xa;                                    &lt;/xsl:otherwise>&#xa;                                &lt;/xsl:choose>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:title&quot;>&#xa;                                    &lt;Title>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:title&quot;/>&#xa;                                    &lt;/Title>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:name1&quot;>&#xa;                                    &lt;Name1>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:name1&quot;/>&#xa;                                    &lt;/Name1>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline1&quot;>&#xa;                                    &lt;AddressLine1>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline1&quot;/>&#xa;                                    &lt;/AddressLine1>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline2&quot;>&#xa;                                    &lt;AddressLine2>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline2&quot;/>&#xa;                                    &lt;/AddressLine2>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline3&quot;>&#xa;                                    &lt;AddressLine3>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline3&quot;/>&#xa;                                    &lt;/AddressLine3>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline4&quot;>&#xa;                                    &lt;AddressLine4>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline4&quot;/>&#xa;                                    &lt;/AddressLine4>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:city&quot;>&#xa;                                    &lt;City>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:city&quot;/>&#xa;                                    &lt;/City>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:state&quot;>&#xa;                                    &lt;State>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:state&quot;/>&#xa;                                    &lt;/State>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:postalcode&quot;>&#xa;                                    &lt;PostalCode>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:postalcode&quot;/>&#xa;                                    &lt;/PostalCode>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:countrycode&quot;>&#xa;                                    &lt;CountryCode>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:countrycode&quot;/>&#xa;                                    &lt;/CountryCode>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:phonenumber&quot;>&#xa;                                    &lt;PhoneNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:phonenumber&quot;/>&#xa;                                    &lt;/PhoneNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:extensionnumber&quot;>&#xa;                                    &lt;ExtensionNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:extensionnumber&quot;/>&#xa;                                    &lt;/ExtensionNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:faxnumber&quot;>&#xa;                                    &lt;FaxNumber>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:faxnumber&quot;/>&#xa;                                    &lt;/FaxNumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;pfx15:enduser/pfx15:email&quot;>&#xa;                                    &lt;Email>&#xa;                                        &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:email&quot;/>&#xa;                                    &lt;/Email>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;exists(current()/pfx15:productextendedspecs/pfx15:attributename) and tib:trim(current()/pfx15:productextendedspecs[upper-case(pfx15:attributename) = &amp;quot;SEGMENTATION&amp;quot;]/pfx15:attributename) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;xsl:if test=&quot;current()/pfx15:productextendedspecs[upper-case(pfx15:attributename) = &amp;quot;SEGMENTATION&amp;quot;]/pfx15:attributevalue&quot;>&#xa;                                        &lt;Segmentation>&#xa;                                            &lt;xsl:value-of select=&quot;current()/pfx15:productextendedspecs[upper-case(pfx15:attributename) = &amp;quot;SEGMENTATION&amp;quot;]/pfx15:attributevalue&quot;/>&#xa;                                        &lt;/Segmentation>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;(exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue) and current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue != &amp;quot;&amp;quot;) or ((exists(current()/pfx15:enduser/pfx15:name2)) and (current()/pfx15:enduser/pfx15:name2) != &amp;quot;&amp;quot;)&quot;>&#xa;                                    &lt;EndUserContact>&#xa;                                        &lt;xsl:if test=&quot;current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue&quot;>&#xa;                                            &lt;EndUserContactID>&#xa;                                                &lt;xsl:value-of select=&quot;current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;contactid&amp;quot;]/pfx15:attributevalue&quot;/>&#xa;                                            &lt;/EndUserContactID>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:name2&quot;>&#xa;                                            &lt;Name1>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:name2&quot;/>&#xa;                                            &lt;/Name1>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:name3&quot;>&#xa;                                            &lt;Name2>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:name3&quot;/>&#xa;                                            &lt;/Name2>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;SearchTerm1>&#xa;                                            &lt;xsl:value-of select=&quot;../../pfx15:requestpreamble/pfx15:customernumber&quot;/>&#xa;                                        &lt;/SearchTerm1>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline1&quot;>&#xa;                                            &lt;AddressLine1>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline1&quot;/>&#xa;                                            &lt;/AddressLine1>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline2&quot;>&#xa;                                            &lt;AddressLine2>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline2&quot;/>&#xa;                                            &lt;/AddressLine2>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline3&quot;>&#xa;                                            &lt;AddressLine3>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline3&quot;/>&#xa;                                            &lt;/AddressLine3>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:addressline4&quot;>&#xa;                                            &lt;AddressLine4>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:addressline4&quot;/>&#xa;                                            &lt;/AddressLine4>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:postalcode&quot;>&#xa;                                            &lt;PostalCode>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:postalcode&quot;/>&#xa;                                            &lt;/PostalCode>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:city&quot;>&#xa;                                            &lt;City>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:city&quot;/>&#xa;                                            &lt;/City>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:countrycode&quot;>&#xa;                                            &lt;CountryCode>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:countrycode&quot;/>&#xa;                                            &lt;/CountryCode>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:state&quot;>&#xa;                                            &lt;State>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:state&quot;/>&#xa;                                            &lt;/State>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:phonenumber&quot;>&#xa;                                            &lt;PhoneNumber>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:phonenumber&quot;/>&#xa;                                            &lt;/PhoneNumber>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:extensionnumber&quot;>&#xa;                                            &lt;ExtensionNumber>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:extensionnumber&quot;/>&#xa;                                            &lt;/ExtensionNumber>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:faxnumber&quot;>&#xa;                                            &lt;FaxNumber>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:faxnumber&quot;/>&#xa;                                            &lt;/FaxNumber>&#xa;                                        &lt;/xsl:if>&#xa;                                        &lt;xsl:if test=&quot;pfx15:enduser/pfx15:email&quot;>&#xa;                                            &lt;Email>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:enduser/pfx15:email&quot;/>&#xa;                                            &lt;/Email>&#xa;                                        &lt;/xsl:if>&#xa;                                    &lt;/EndUserContact>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/EndUser>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;current()/pfx15:enduserponumber&quot;>&#xa;                            &lt;EndUserPONumber>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:enduserponumber&quot;/>&#xa;                            &lt;/EndUserPONumber>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists(current()/pfx15:quantity) and tib:trim(current()/pfx15:quantity) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;current()/pfx15:quantity&quot;>&#xa;                                &lt;RequestedQuantity>&#xa;                                    &lt;xsl:value-of select=&quot;current()/pfx15:quantity&quot;/>&#xa;                                &lt;/RequestedQuantity>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists(current()/pfx15:unitprice) and tib:trim(current()/pfx15:unitprice) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;current()/pfx15:unitprice&quot;>&#xa;                                &lt;RequestedUnitPrice>&#xa;                                    &lt;xsl:value-of select=&quot;current()/pfx15:unitprice&quot;/>&#xa;                                &lt;/RequestedUnitPrice>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists(current()/pfx15:specialprice) and tib:trim(current()/pfx15:specialprice) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;FixedPrice>&#xa;                                &lt;xsl:value-of select=&quot;tib:trim(current()/pfx15:specialprice)&quot;/>&#xa;                            &lt;/FixedPrice>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists(current()/pfx15:bidnumber) and tib:trim(current()/pfx15:bidnumber) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;BidID>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(current()/pfx15:bidnumber)&quot;/>&#xa;                                &lt;/BidID>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists(../pfx15:extendedspecs[pfx15:attributename = &amp;quot;dealid&amp;quot;]/pfx15:attributevalue) and tib:trim(../pfx15:extendedspecs[pfx15:attributename = &amp;quot;dealid&amp;quot;]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;BidID>&#xa;                                    &lt;xsl:value-of select=&quot;tib:trim(../pfx15:extendedspecs[pfx15:attributename = &amp;quot;dealid&amp;quot;]/pfx15:attributevalue)&quot;/>&#xa;                                &lt;/BidID>&#xa;                            &lt;/xsl:when>&#xa;                        &lt;/xsl:choose>&#xa;                        &lt;xsl:if test=&quot;tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;promisedate&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;RequestedDeliveryDate>&#xa;                                &lt;xsl:value-of select=&quot;tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;promisedate&amp;quot;]/@attributename]/pfx15:attributevalue)&quot;/>&#xa;                            &lt;/RequestedDeliveryDate>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;ItemCategory>&#xa;                            &lt;xsl:value-of select=&quot;pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;itemCategory&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                        &lt;/ItemCategory>&#xa;                        &lt;xsl:if test=&quot;(exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;costoverrideflag&amp;quot;]/pfx15:attributevalue) and tib:trim(lower-case(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;costoverrideflag&amp;quot;]/pfx15:attributevalue)) = &amp;quot;true&amp;quot;) and (exists(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue) and tib:trim(current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue) != &amp;quot;&amp;quot;)&quot;>&#xa;                            &lt;xsl:if test=&quot;current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue&quot;>&#xa;                                &lt;ManualPOCC>&#xa;                                    &lt;xsl:value-of select=&quot;current()/pfx15:productextendedspecs[pfx15:attributename = &amp;quot;stdcostamount&amp;quot;]/pfx15:attributevalue&quot;/>&#xa;                                &lt;/ManualPOCC>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:for-each select=&quot;pfx15:productextendedspecs[pfx15:attributename = $ExtendedSpecs/ExtendedSpecs/ExtendedSpec/@attributename = &amp;quot;commenttext&amp;quot;]&quot;>&#xa;                            &lt;Comments>&#xa;                                &lt;ID>&#xa;                                    &lt;xsl:value-of select=&quot;substring-before(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)&quot;/>&#xa;                                &lt;/ID>&#xa;                                &lt;Text>&#xa;                                    &lt;xsl:value-of select=&quot;substring-after(current()/pfx15:attributevalue, &amp;quot;-&amp;quot;)&quot;/>&#xa;                                &lt;/Text>&#xa;                                &lt;Format>&#xa;                                    &lt;xsl:value-of select=&quot;$Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;txtFormat&amp;quot;]/@attributename]/pfx15:attributevalue&quot;/>&#xa;                                &lt;/Format>&#xa;                            &lt;/Comments>&#xa;                        &lt;/xsl:for-each>&#xa;                        &lt;LicenseConfiguration>&#xa;                            &lt;xsl:if test=&quot;current()/pfx15:linenumber&quot;>&#xa;                                &lt;ConfigID>&#xa;                                    &lt;xsl:value-of select=&quot;current()/pfx15:linenumber&quot;/>&#xa;                                &lt;/ConfigID>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;xsl:if test=&quot;current()/pfx15:linenumber&quot;>&#xa;                                &lt;RootID>&#xa;                                    &lt;xsl:value-of select=&quot;current()/pfx15:linenumber&quot;/>&#xa;                                &lt;/RootID>&#xa;                            &lt;/xsl:if>&#xa;                            &lt;IsComplete>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                            &lt;/IsComplete>&#xa;                            &lt;IsConsistent>&#xa;                                &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                            &lt;/IsConsistent>&#xa;                            &lt;Instance>&#xa;                                &lt;xsl:if test=&quot;current()/pfx15:linenumber&quot;>&#xa;                                    &lt;InstanceID>&#xa;                                        &lt;xsl:value-of select=&quot;current()/pfx15:linenumber&quot;/>&#xa;                                    &lt;/InstanceID>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;ObjectKey>&#xa;                                    &lt;xsl:value-of select=&quot;tib:substring-after-last(current()/pfx15:globalskuid, &amp;quot;-&amp;quot;)&quot;/>&#xa;                                &lt;/ObjectKey>&#xa;                                &lt;ObjectType>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;MARA&amp;quot;&quot;/>&#xa;                                &lt;/ObjectType>&#xa;                                &lt;ClassType>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;300&amp;quot;&quot;/>&#xa;                                &lt;/ClassType>&#xa;                                &lt;IsComplete>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                                &lt;/IsComplete>&#xa;                                &lt;IsConsistent>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;true&amp;quot;&quot;/>&#xa;                                &lt;/IsConsistent>&#xa;                                &lt;xsl:if test=&quot;current()/pfx15:quantity&quot;>&#xa;                                    &lt;Quantity>&#xa;                                        &lt;xsl:value-of select=&quot;current()/pfx15:quantity&quot;/>&#xa;                                    &lt;/Quantity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;QuantityUnit>&#xa;                                    &lt;xsl:value-of select=&quot;&amp;quot;EA&amp;quot;&quot;/>&#xa;                                &lt;/QuantityUnit>&#xa;                                &lt;xsl:if test=&quot;count($LicenceConfigurationData/variantcondition/linenumber = tib:trim(current()/pfx15:linenumber)) > 0&quot;>&#xa;                                    &lt;xsl:for-each select=&quot;$LicenceConfigurationData/variantcondition[linenumber = current()/pfx15:linenumber]&quot;>&#xa;                                        &lt;Characteristic>&#xa;                                            &lt;Name>&#xa;                                                &lt;xsl:value-of select=&quot;current()/characteristic&quot;/>&#xa;                                            &lt;/Name>&#xa;                                            &lt;Value>&#xa;                                                &lt;xsl:value-of select=&quot;current()/value&quot;/>&#xa;                                            &lt;/Value>&#xa;                                        &lt;/Characteristic>&#xa;                                    &lt;/xsl:for-each>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;count($LicenceConfigurationData/variantcondition[tib:trim(linenumber) = &amp;quot;&amp;quot;]) > 0&quot;>&#xa;                                    &lt;xsl:for-each select=&quot;$LicenceConfigurationData/variantcondition[tib:trim(linenumber) = &amp;quot;&amp;quot;]&quot;>&#xa;                                        &lt;Characteristic>&#xa;                                            &lt;Name>&#xa;                                                &lt;xsl:value-of select=&quot;current()/characteristic&quot;/>&#xa;                                            &lt;/Name>&#xa;                                            &lt;Value>&#xa;                                                &lt;xsl:value-of select=&quot;current()/value&quot;/>&#xa;                                            &lt;/Value>&#xa;                                        &lt;/Characteristic>&#xa;                                    &lt;/xsl:for-each>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;count(pfx15:vmf/pfx15:vmfspecs) > 0&quot;>&#xa;                                    &lt;xsl:for-each select=&quot;pfx15:vmf/pfx15:vmfspecs[exists(pfx15:attributevalue) and tib:trim(pfx15:attributevalue) != &amp;quot;&amp;quot;]&quot;>&#xa;                                        &lt;Characteristic>&#xa;                                            &lt;Name>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:attributename&quot;/>&#xa;                                            &lt;/Name>&#xa;                                            &lt;Value>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:attributevalue&quot;/>&#xa;                                            &lt;/Value>&#xa;                                        &lt;/Characteristic>&#xa;                                    &lt;/xsl:for-each>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;count(../pfx15:vmf/pfx15:vmfspecs) > 0&quot;>&#xa;                                    &lt;xsl:for-each select=&quot;../pfx15:vmf/pfx15:vmfspecs[tib:trim(pfx15:attributevalue) != &amp;quot;&amp;quot;]&quot;>&#xa;                                        &lt;Characteristic>&#xa;                                            &lt;Name>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:attributename&quot;/>&#xa;                                            &lt;/Name>&#xa;                                            &lt;Value>&#xa;                                                &lt;xsl:value-of select=&quot;pfx15:attributevalue&quot;/>&#xa;                                            &lt;/Value>&#xa;                                        &lt;/Characteristic>&#xa;                                    &lt;/xsl:for-each>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/Instance>&#xa;                        &lt;/LicenseConfiguration>&#xa;                        &lt;xsl:if test=&quot;current()/pfx15:currency&quot;>&#xa;                            &lt;Currency>&#xa;                                &lt;xsl:value-of select=&quot;current()/pfx15:currency&quot;/>&#xa;                            &lt;/Currency>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termStartDate&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termStartDate&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;ContractStartDate>&#xa;                                &lt;xsl:value-of select=&quot;tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termStartDate&amp;quot;]/@attributename]/pfx15:attributevalue)&quot;/>&#xa;                            &lt;/ContractStartDate>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termEndDate&amp;quot;]/@attributename]/pfx15:attributevalue) and tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termEndDate&amp;quot;]/@attributename]/pfx15:attributevalue) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;ContractEndDate>&#xa;                                &lt;xsl:value-of select=&quot;tib:trim(pfx15:productextendedspecs[pfx15:attributename = $ProductExtendedSpecs/ProductExtendedSpecs/ProductExtendedSpec[@tagname = &amp;quot;termEndDate&amp;quot;]/@attributename]/pfx15:attributevalue)&quot;/>&#xa;                            &lt;/ContractEndDate>&#xa;                        &lt;/xsl:if>&#xa;                    &lt;/Line>&#xa;                &lt;/xsl:for-each>&#xa;            &lt;/OrderCreateRequest>&#xa;        &lt;/ns9:ServiceRequest>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                </tibex:inputBindings>
                <bpws:targets>
                    <bpws:target linkName="SetContext_SalesOrderCreateService-to-SalesOrderCreateService"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="SalesOrderCreateService-to-GetContext_SalesOrderCreateService"/>
                </bpws:sources>
            </bpws:invoke>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    inputVariable="SetContext_SalesOrderCreateService-input"
                    name="SetContext_SalesOrderCreateService"
                    outputVariable="SetContext_SalesOrderCreateService"
                    tibex:xpdlId="244bc46e-dcff-4bdf-bfc0-c5d92f029a7c" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="getDate-to-SetContext_SalesOrderCreateService"/>
                        <bpws:target linkName="LicenceConfigurationData-to-SetContext_SalesOrderCreateService"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="SetContext_SalesOrderCreateService-to-SalesOrderCreateService"/>
                    </bpws:sources>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.internal.setContext"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:internalactivities="http://ns.tibco.com/bw/core/internalactivity" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/core/internalactivity#//SetContext"/>
                                    <value operationName="create"
                                    partnerName="SalesOrderCreatePortType_v2_4" xsi:type="internalactivities:SetContext"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    name="GetContext_SalesOrderCreateService"
                    outputVariable="GetContext_SalesOrderCreateService"
                    tibex:xpdlId="77538b70-64b5-4338-a72f-dd9768d3a1b9" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="SalesOrderCreateService-to-GetContext_SalesOrderCreateService"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="GetContext_SalesOrderCreateService-to-SAPSubProcessLog"/>
                    </bpws:sources>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.internal.getContext"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:internalactivities="http://ns.tibco.com/bw/core/internalactivity" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/core/internalactivity#//GetContext"/>
                                    <value direction="OUTPUT"
                                    operationName="create"
                                    partnerName="SalesOrderCreatePortType_v2_4" xsi:type="internalactivities:GetContext"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:extActivity name="SAPSubProcessLog"
                    tibex:xpdlId="1d80ddcd-2b3f-45b2-8a96-8698d53140c2"
                    type="bw.generalactivities.callprocess" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="GetContext_SalesOrderCreateService-to-SAPSubProcessLog"/>
                    </bpws:targets>
                    <bpws:sources>
                        <bpws:source linkName="SAPSubProcessLog-to-End"/>
                    </bpws:sources>
                    <tibex:CallProcess spawn="true" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"/>
                </tibex:extActivity>
            </bpws:extensionActivity>
            <bpws:extensionActivity>
                <tibex:activityExtension
                    expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:pfx6=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockRequest.xsd&quot; xmlns:pfx91=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceAndStockMappingResponse_v2_0.xsd&quot; xmlns:pfx7=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockResponse.xsd&quot; xmlns:pfx8=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/PriceAndStockRequest.xsd&quot; xmlns:pfx101=&quot;http://xmlns.example.com/1437473647806&quot; xmlns:pfx9=&quot;http://www.ingrammicro.com/product/PriceAndPriceAndStock _v2_0_Service/Resources/PriceAndPriceAndStockResponse.xsd&quot; xmlns:pfx2=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_1/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx3=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_6/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_6/types&quot; xmlns:pfx5=&quot;http://www.ingrammicro.com/common/ServiceResponseHeader_v2_1/types&quot; xmlns:ns121=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v1_0/types&quot; xmlns:ns0=&quot;http://www.ingrammicro.com/order/OrderCreateRequest_v1_0/types&quot; xmlns:ns2=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_1/types&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:ns1=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_6/types&quot; xmlns:ns4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_1/types&quot; xmlns:ns3=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types&quot; xmlns:ns6=&quot;http://www.tibco.com/pe/EngineTypes&quot; xmlns:ns5=&quot;http://xmlns.tibco.com/encodings/mime&quot; xmlns:ns8=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types&quot; xmlns:ns7=&quot;http://www.tibco.com/pe/GenerateErrorActivity/InputSchema&quot; xmlns:ns13=&quot;http://www.ingrammicro.com/product/ProductLookupRequest_v1_0/types&quot; xmlns:ns12=&quot;http://www.tibco.com/schemas/EAILoggingFramework_1_0/Resources/Schema/LoggingFrameworkCDM.xsd&quot; xmlns:ns9=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types&quot; xmlns:ns11=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_v1_0/Resources/Common/JobSharedVariables/Schema.xsd&quot; xmlns:ns10=&quot;http://www.tibco.com/pe/DeployedVarsType&quot; xmlns:ns16=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlusRequest_v1_0/types&quot; xmlns:ns15=&quot;http://www.ingrammicro.com/order/OrderDeleteRequest_v1_0/types&quot; xmlns:ns14=&quot;http://www.tibco.com/schemas/OrderLTLUpdate_v1_0/Resources/Schema.xsd&quot; xmlns:ns131=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusRequest&quot; xmlns:pfx19=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_1_0/LoggingFrameworkResources/LoggingFrameworkSchema/ErrorHandler_V3.0.xsd&quot; xmlns:ns41=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusReply&quot; xmlns:pfx17=&quot;http://webservices.ingrammicro.com/wsdl/PriceAndAvailabilityPlus/GetPriceAndAvailabilityImpl/Processes&quot; xmlns:pfx18=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestSAP.xsd&quot; xmlns:pfx11=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlus_v1_0/GetPriceAndAvailabilityImpl&quot; xmlns:pfx12=&quot;http://www.tibco.com/xmlns/ae2xsd/2002/05/Ingram/ErrorHandlerEvent_v2_1&quot; xmlns:pfx10=&quot;http://www.tibco.com/namespaces/tnt/plugins/jms&quot; xmlns:pfx15=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd&quot; xmlns:pfx16=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateAuthRequest.xsd&quot; xmlns:pfx13=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate&quot; xmlns:pfx14=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd&quot; xmlns:pfx=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/types&quot; xmlns:ns=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_1/types&quot; xmlns:pfx71=&quot;http://www.ingrammicro.com/product/Price _v2_0_Service/Resources/PriceRequest.xsd&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns102=&quot;http://www.tibco.com/schemas/OrderDetail_v1_1/Resources/Schema.xsd&quot; xmlns:ns81=&quot;http://www.ingrammicro.com/order/OrderCreateResponse_v1_0/types&quot; xmlns:ns101=&quot;http://www.ingrammicro.com/OrderDetail_v1_1/Resources/OrderDetailResponse/types&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; xmlns:pfx22=&quot;http://xmlns.example.com/1517917744445&quot; xmlns:pfx161=&quot;http://www.ingrammicro.com/order/OrderCreate_v1_0/CreateImpl/Processes/OrderCreate&quot; xmlns:pfx23=&quot;http://www.ingrammicro.com/order/OrderDelete_v1_0/DeleteImpl/Processes/OrderDelete&quot; xmlns:pfx20=&quot;http://www.ingrammicro.com/order/OrderDetail&quot; xmlns:pfx21=&quot;http://www.ingrammicro.com/Processes/OrderModify/OrderModify_Service&quot; xmlns:pfx121=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockRequest.xsd&quot; xmlns:pfx24=&quot;http://www.ingrammicro.com/OrderLTLUpdate_v1_1/Resources/OrderLTLUpdateResponse/types&quot; xmlns:pfx25=&quot;http://www.ingrammicro.com/order/OrderRelease_v1_0/ReleaseImpl/Processes/OrderRelease&quot; xmlns:pfx81=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceResponse.xsd&quot; xmlns:ns71=&quot;http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions&quot; xmlns:ns111=&quot;http://www.ingrammicro.com/order/OrderModifyRequest_v1_0/types&quot; xmlns:ns61=&quot;http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions&quot; xmlns:pd=&quot;http://xmlns.tibco.com/bw/process/2003&quot; xmlns:pfx191=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestImpulse.xsd&quot; xmlns:ns21=&quot;http://www.ingrammicro.com/product/ProductLookupResponse_v1_0/types&quot; xmlns:pfx111=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockResponse.xsd&quot; version=&quot;1.0&quot;>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:param name=&quot;SalesOrderCreateService&quot;/>&#xa;    &lt;xsl:template name=&quot;End-Input&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:choose>&#xa;            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse)&quot;>&#xa;                &lt;pfx14:serviceresponse>&#xa;                    &lt;pfx14:responsepreamble>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/RequestStatus&quot;>&#xa;                            &lt;pfx14:responsestatus>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/RequestStatus&quot;/>&#xa;                            &lt;/pfx14:responsestatus>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error/Code) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success/Code) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning/Code) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Information[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Information[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error/Message) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Error[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success/Message) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Success[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning/Message) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Warning[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Information[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/ResponsePreamble/ReturnMessages/Information[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                    &lt;/pfx14:responsepreamble>&#xa;                    &lt;pfx14:ordercreateresponse>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/NumberOfLinesWithSuccess&quot;>&#xa;                            &lt;pfx14:numberoflineswithsuccess>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/NumberOfLinesWithSuccess&quot;/>&#xa;                            &lt;/pfx14:numberoflineswithsuccess>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/NumberOfLinesWithError&quot;>&#xa;                            &lt;pfx14:numberoflineswitherror>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/NumberOfLinesWithError&quot;/>&#xa;                            &lt;/pfx14:numberoflineswitherror>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/NumberOfLinesWithWarning&quot;>&#xa;                            &lt;pfx14:numberoflineswithwarning>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/NumberOfLinesWithWarning&quot;/>&#xa;                            &lt;/pfx14:numberoflineswithwarning>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber&quot;>&#xa;                                &lt;pfx14:globalorderid>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber&quot;/>&#xa;                                &lt;/pfx14:globalorderid>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/CustomerPONumber) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/CustomerPONumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/CustomerPONumber&quot;>&#xa;                                &lt;pfx14:customerponumber>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/CustomerPONumber&quot;/>&#xa;                                &lt;/pfx14:customerponumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/EndUserPONumber) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/EndUserPONumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/EndUserPONumber&quot;>&#xa;                                &lt;pfx14:enduserponumber>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/EndUserPONumber&quot;/>&#xa;                                &lt;/pfx14:enduserponumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderType) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderType) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderType&quot;>&#xa;                                &lt;pfx14:ordertype>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderType&quot;/>&#xa;                                &lt;/pfx14:ordertype>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderTimestamp) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderTimestamp) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderTimestamp&quot;>&#xa;                                &lt;pfx14:ordertimestamp>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderTimestamp&quot;/>&#xa;                                &lt;/pfx14:ordertimestamp>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber&quot;>&#xa;                                &lt;pfx14:invoicingsystemorderid>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/OrderNumber&quot;/>&#xa;                                &lt;/pfx14:invoicingsystemorderid>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/TaxAmount) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/TaxAmount) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/TaxAmount&quot;>&#xa;                                &lt;pfx14:taxamount>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/TaxAmount&quot;/>&#xa;                                &lt;/pfx14:taxamount>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/FreightAmount) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/FreightAmount) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/FreightAmount&quot;>&#xa;                                &lt;pfx14:freightamount>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/FreightAmount&quot;/>&#xa;                                &lt;/pfx14:freightamount>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/GrossAmount) and tib:trim($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/GrossAmount) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/GrossAmount&quot;>&#xa;                                &lt;pfx14:totalorderamount>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/GrossAmount&quot;/>&#xa;                                &lt;/pfx14:totalorderamount>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/ShipTo)&quot;>&#xa;                            &lt;xsl:for-each select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/ShipTo&quot;>&#xa;                                &lt;pfx14:shiptoaddress>&#xa;                                    &lt;xsl:if test=&quot;CareOf&quot;>&#xa;                                        &lt;pfx14:attention>&#xa;                                            &lt;xsl:value-of select=&quot;CareOf&quot;/>&#xa;                                        &lt;/pfx14:attention>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;pfx14:name>&#xa;                                        &lt;xsl:value-of select=&quot;Name1&quot;/>&#xa;                                    &lt;/pfx14:name>&#xa;                                    &lt;pfx14:addressline1>&#xa;                                        &lt;xsl:value-of select=&quot;AddressLine1&quot;/>&#xa;                                    &lt;/pfx14:addressline1>&#xa;                                    &lt;xsl:if test=&quot;AddressLine2&quot;>&#xa;                                        &lt;pfx14:addressline2>&#xa;                                            &lt;xsl:value-of select=&quot;AddressLine2&quot;/>&#xa;                                        &lt;/pfx14:addressline2>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;AddressLine3&quot;>&#xa;                                        &lt;pfx14:addressline3>&#xa;                                            &lt;xsl:value-of select=&quot;AddressLine3&quot;/>&#xa;                                        &lt;/pfx14:addressline3>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;AddressLine4&quot;>&#xa;                                        &lt;pfx14:addressline4>&#xa;                                            &lt;xsl:value-of select=&quot;AddressLine4&quot;/>&#xa;                                        &lt;/pfx14:addressline4>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;pfx14:city>&#xa;                                        &lt;xsl:value-of select=&quot;City&quot;/>&#xa;                                    &lt;/pfx14:city>&#xa;                                    &lt;xsl:if test=&quot;State&quot;>&#xa;                                        &lt;pfx14:state>&#xa;                                            &lt;xsl:value-of select=&quot;State&quot;/>&#xa;                                        &lt;/pfx14:state>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;PostalCode&quot;>&#xa;                                        &lt;pfx14:postalcode>&#xa;                                            &lt;xsl:value-of select=&quot;PostalCode&quot;/>&#xa;                                        &lt;/pfx14:postalcode>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;pfx14:countrycode>&#xa;                                        &lt;xsl:value-of select=&quot;CountryCode&quot;/>&#xa;                                    &lt;/pfx14:countrycode>&#xa;                                    &lt;xsl:if test=&quot;PhoneNumber&quot;>&#xa;                                        &lt;pfx14:phonenumber>&#xa;                                            &lt;xsl:value-of select=&quot;PhoneNumber&quot;/>&#xa;                                        &lt;/pfx14:phonenumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;ExtensionNumber&quot;>&#xa;                                        &lt;pfx14:extensionnumber>&#xa;                                            &lt;xsl:value-of select=&quot;ExtensionNumber&quot;/>&#xa;                                        &lt;/pfx14:extensionnumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;MobileNumber&quot;>&#xa;                                        &lt;pfx14:mobilenumber>&#xa;                                            &lt;xsl:value-of select=&quot;MobileNumber&quot;/>&#xa;                                        &lt;/pfx14:mobilenumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;FaxNumber&quot;>&#xa;                                        &lt;pfx14:faxnumber>&#xa;                                            &lt;xsl:value-of select=&quot;FaxNumber&quot;/>&#xa;                                        &lt;/pfx14:faxnumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;Email&quot;>&#xa;                                        &lt;pfx14:email>&#xa;                                            &lt;xsl:value-of select=&quot;Email&quot;/>&#xa;                                        &lt;/pfx14:email>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/pfx14:shiptoaddress>&#xa;                            &lt;/xsl:for-each>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:for-each select=&quot;$SalesOrderCreateService/response/ns8:ServiceResponse/OrderCreateResponse/Order/Line&quot;>&#xa;                            &lt;pfx14:lines>&#xa;                                &lt;xsl:variable name=&quot;var&quot; select=&quot;LineNumber&quot;/>&#xa;                                &lt;xsl:variable name=&quot;varSystemid&quot; select=&quot;if (tib:trim($Start/systemid) != &amp;quot;&amp;quot;) then $Start/systemid else substring-before($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines[1]/pfx15:globalskuid, &amp;quot;-&amp;quot;)&quot;/>&#xa;                                &lt;pfx14:linestatus>&#xa;                                    &lt;xsl:value-of select=&quot;current()/LineRequestStatus&quot;/>&#xa;                                &lt;/pfx14:linestatus>&#xa;                                &lt;xsl:choose>&#xa;                                    &lt;xsl:when test=&quot;exists(current()/LineReturnMessages/Warning/Message) and tib:trim(current()/LineReturnMessages/Warning[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                        &lt;pfx14:linestatusmessage>&#xa;                                            &lt;xsl:value-of select=&quot;if ($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;callingapplication&amp;quot;]/pfx15:attributevalue = &amp;quot;resellerapi&amp;quot;) then concat(string(LineReturnMessages/Warning[current()/LineRequestStatus = &amp;quot;SUCCESSWITHERROR&amp;quot;]/Code), &amp;quot;,&amp;quot;, string(LineReturnMessages/Warning[current()/LineRequestStatus = &amp;quot;SUCCESSWITHERROR&amp;quot;]/Message)) else current()/LineReturnMessages/Warning[1]/Message&quot;/>&#xa;                                        &lt;/pfx14:linestatusmessage>&#xa;                                    &lt;/xsl:when>&#xa;                                    &lt;xsl:when test=&quot;exists(current()/LineReturnMessages/Success[1]/Message) and tib:trim(current()/LineReturnMessages/Success[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                        &lt;pfx14:linestatusmessage>&#xa;                                            &lt;xsl:value-of select=&quot;if ($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;callingapplication&amp;quot;]/pfx15:attributevalue = &amp;quot;resellerapi&amp;quot;) then concat(string(LineReturnMessages/Success[current()/LineRequestStatus = &amp;quot;SUCCESS&amp;quot;]/Code), &amp;quot;,&amp;quot;, string(LineReturnMessages/Success[current()/LineRequestStatus = &amp;quot;SUCCESS&amp;quot;]/Message)) else current()/LineReturnMessages/Success[1]/Message&quot;/>&#xa;                                        &lt;/pfx14:linestatusmessage>&#xa;                                    &lt;/xsl:when>&#xa;                                    &lt;xsl:otherwise>&#xa;                                        &lt;xsl:if test=&quot;current()/LineReturnMessages/Information[1]/Message&quot;>&#xa;                                            &lt;pfx14:linestatusmessage>&#xa;                                                &lt;xsl:value-of select=&quot;current()/LineReturnMessages/Information[1]/Message&quot;/>&#xa;                                            &lt;/pfx14:linestatusmessage>&#xa;                                        &lt;/xsl:if>&#xa;                                    &lt;/xsl:otherwise>&#xa;                                &lt;/xsl:choose>&#xa;                                &lt;xsl:if test=&quot;exists(current()/LineReturnMessages/Error[1]/Code) and tib:trim(current()/LineReturnMessages/Error[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;xsl:if test=&quot;current()/LineReturnMessages/Error[1]/Code&quot;>&#xa;                                        &lt;pfx14:lineerrorcode>&#xa;                                            &lt;xsl:value-of select=&quot;current()/LineReturnMessages/Error[1]/Code&quot;/>&#xa;                                        &lt;/pfx14:lineerrorcode>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;exists(current()/LineReturnMessages/Error/Message) and tib:trim(current()/LineReturnMessages/Error[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;pfx14:lineerrormessage>&#xa;                                        &lt;xsl:value-of select=&quot;tib:concat-sequence-format(current()/LineReturnMessages/Error, &amp;quot;,&amp;quot;, true())&quot;/>&#xa;                                    &lt;/pfx14:lineerrormessage>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;current()/CustomerLineNumber&quot;>&#xa;                                    &lt;pfx14:globallinenumber>&#xa;                                        &lt;xsl:value-of select=&quot;current()/CustomerLineNumber&quot;/>&#xa;                                    &lt;/pfx14:globallinenumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tib:trim(current()/IngramPartNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;pfx14:partnumber>&#xa;                                        &lt;xsl:value-of select=&quot;current()/IngramPartNumber&quot;/>&#xa;                                    &lt;/pfx14:partnumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tib:trim(current()/IngramPartNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;pfx14:globalskuid>&#xa;                                        &lt;xsl:value-of select=&quot;concat($varSystemid, &amp;quot;-&amp;quot;, IngramPartNumber)&quot;/>&#xa;                                    &lt;/pfx14:globalskuid>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;pfx14:linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;LineNumber&quot;/>&#xa;                                &lt;/pfx14:linenumber>&#xa;                                &lt;xsl:if test=&quot;exists(../CarrierCode) and tib:trim(../CarrierCode) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;xsl:if test=&quot;../CarrierCode&quot;>&#xa;                                        &lt;pfx14:carriercode>&#xa;                                            &lt;xsl:value-of select=&quot;../CarrierCode&quot;/>&#xa;                                        &lt;/pfx14:carriercode>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;UnitProductPrice&quot;>&#xa;                                    &lt;pfx14:requestedunitprice>&#xa;                                        &lt;xsl:value-of select=&quot;UnitProductPrice&quot;/>&#xa;                                    &lt;/pfx14:requestedunitprice>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;pfx14:requestedquantity>&#xa;                                    &lt;xsl:value-of select=&quot;RequestedQuantity&quot;/>&#xa;                                &lt;/pfx14:requestedquantity>&#xa;                                &lt;pfx14:confirmedquantity>&#xa;                                    &lt;xsl:value-of select=&quot;ConfirmedQuantity&quot;/>&#xa;                                &lt;/pfx14:confirmedquantity>&#xa;                                &lt;xsl:if test=&quot;BackorderedQuantity&quot;>&#xa;                                    &lt;pfx14:backorderedquantity>&#xa;                                        &lt;xsl:value-of select=&quot;BackorderedQuantity&quot;/>&#xa;                                    &lt;/pfx14:backorderedquantity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;UnitNetAmount&quot;>&#xa;                                    &lt;pfx14:unitproductprice>&#xa;                                        &lt;xsl:value-of select=&quot;UnitNetAmount&quot;/>&#xa;                                    &lt;/pfx14:unitproductprice>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;NetAmount&quot;>&#xa;                                    &lt;pfx14:netamount>&#xa;                                        &lt;xsl:value-of select=&quot;NetAmount&quot;/>&#xa;                                    &lt;/pfx14:netamount>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;TaxAmount&quot;>&#xa;                                    &lt;pfx14:taxamount>&#xa;                                        &lt;xsl:value-of select=&quot;TaxAmount&quot;/>&#xa;                                    &lt;/pfx14:taxamount>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;FreightAmount&quot;>&#xa;                                    &lt;pfx14:freightamount>&#xa;                                        &lt;xsl:value-of select=&quot;FreightAmount&quot;/>&#xa;                                    &lt;/pfx14:freightamount>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;current()/BidID&quot;>&#xa;                                    &lt;pfx14:specialbidnumber>&#xa;                                        &lt;xsl:value-of select=&quot;current()/BidID&quot;/>&#xa;                                    &lt;/pfx14:specialbidnumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:for-each select=&quot;current()/ScheduleLine&quot;>&#xa;                                    &lt;pfx14:schedulelines>&#xa;                                        &lt;pfx14:linenumber>&#xa;                                            &lt;xsl:value-of select=&quot;current()/LineNumber&quot;/>&#xa;                                        &lt;/pfx14:linenumber>&#xa;                                        &lt;pfx14:scheduledate>&#xa;                                            &lt;xsl:value-of select=&quot;current()/ScheduleLineDate&quot;/>&#xa;                                        &lt;/pfx14:scheduledate>&#xa;                                        &lt;pfx14:scheduledquantity>&#xa;                                            &lt;xsl:value-of select=&quot;current()/ScheduleQuantity&quot;/>&#xa;                                        &lt;/pfx14:scheduledquantity>&#xa;                                    &lt;/pfx14:schedulelines>&#xa;                                &lt;/xsl:for-each>&#xa;                            &lt;/pfx14:lines>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/pfx14:ordercreateresponse>&#xa;                &lt;/pfx14:serviceresponse>&#xa;            &lt;/xsl:when>&#xa;            &lt;xsl:otherwise>&#xa;                &lt;pfx14:serviceresponse>&#xa;                    &lt;pfx14:responsepreamble>&#xa;                        &lt;pfx14:responsestatus>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;SUCCESS&amp;quot;&quot;/>&#xa;                        &lt;/pfx14:responsestatus>&#xa;                        &lt;pfx14:responsemessage>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;NO SAP ITEMS&amp;quot;&quot;/>&#xa;                        &lt;/pfx14:responsemessage>&#xa;                    &lt;/pfx14:responsepreamble>&#xa;                    &lt;pfx14:ordercreateresponse/>&#xa;                &lt;/pfx14:serviceresponse>&#xa;            &lt;/xsl:otherwise>&#xa;        &lt;/xsl:choose>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>"
                    expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"
                    inputVariable="End-input" name="End"
                    tibex:xpdlId="22d01e41-dbca-4afa-bec9-768d1167dbe1" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                    <bpws:targets>
                        <bpws:target linkName="Start-to-End"/>
                        <bpws:target linkName="SAPSubProcessLog-to-End"/>
                    </bpws:targets>
                    <tibex:inputBindings>
                        <tibex:inputBinding
                            expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:ns8=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types&quot; xmlns:pfx15=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd&quot; xmlns:pfx14=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;1.0&quot;>&#xa;    &lt;xsl:param name=&quot;SalesOrderCreateService.response&quot;/>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:template name=&quot;End-Input&quot; match=&quot;/&quot;>&#xa;        &lt;xsl:choose>&#xa;            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response)&quot;>&#xa;                &lt;pfx14:serviceresponse>&#xa;                    &lt;pfx14:responsepreamble>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/RequestStatus&quot;>&#xa;                            &lt;pfx14:responsestatus>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/RequestStatus&quot;/>&#xa;                            &lt;/pfx14:responsestatus>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error/Code) and tib:trim($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success/Code) and tib:trim($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning/Code) and tib:trim($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Information[1]/Code&quot;>&#xa;                                    &lt;pfx14:statuscode>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Information[1]/Code&quot;/>&#xa;                                    &lt;/pfx14:statuscode>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                        &lt;xsl:choose>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error/Message) and tib:trim($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Error[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success/Message) and tib:trim($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Success[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:when test=&quot;exists($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning/Message) and tib:trim($SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Warning[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:when>&#xa;                            &lt;xsl:otherwise>&#xa;                                &lt;xsl:if test=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Information[1]/Message&quot;>&#xa;                                    &lt;pfx14:responsemessage>&#xa;                                        &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/ResponsePreamble/ReturnMessages/Information[1]/Message&quot;/>&#xa;                                    &lt;/pfx14:responsemessage>&#xa;                                &lt;/xsl:if>&#xa;                            &lt;/xsl:otherwise>&#xa;                        &lt;/xsl:choose>&#xa;                    &lt;/pfx14:responsepreamble>&#xa;                    &lt;pfx14:ordercreateresponse>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/NumberOfLinesWithSuccess&quot;>&#xa;                            &lt;pfx14:numberoflineswithsuccess>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/NumberOfLinesWithSuccess&quot;/>&#xa;                            &lt;/pfx14:numberoflineswithsuccess>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/NumberOfLinesWithError&quot;>&#xa;                            &lt;pfx14:numberoflineswitherror>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/NumberOfLinesWithError&quot;/>&#xa;                            &lt;/pfx14:numberoflineswitherror>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/NumberOfLinesWithWarning&quot;>&#xa;                            &lt;pfx14:numberoflineswithwarning>&#xa;                                &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/NumberOfLinesWithWarning&quot;/>&#xa;                            &lt;/pfx14:numberoflineswithwarning>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber&quot;>&#xa;                                &lt;pfx14:globalorderid>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber&quot;/>&#xa;                                &lt;/pfx14:globalorderid>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/CustomerPONumber) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/CustomerPONumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/CustomerPONumber&quot;>&#xa;                                &lt;pfx14:customerponumber>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/CustomerPONumber&quot;/>&#xa;                                &lt;/pfx14:customerponumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/EndUserPONumber) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/EndUserPONumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/EndUserPONumber&quot;>&#xa;                                &lt;pfx14:enduserponumber>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/EndUserPONumber&quot;/>&#xa;                                &lt;/pfx14:enduserponumber>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderType) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderType) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderType&quot;>&#xa;                                &lt;pfx14:ordertype>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderType&quot;/>&#xa;                                &lt;/pfx14:ordertype>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderTimestamp) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderTimestamp) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderTimestamp&quot;>&#xa;                                &lt;pfx14:ordertimestamp>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderTimestamp&quot;/>&#xa;                                &lt;/pfx14:ordertimestamp>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber&quot;>&#xa;                                &lt;pfx14:invoicingsystemorderid>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/OrderNumber&quot;/>&#xa;                                &lt;/pfx14:invoicingsystemorderid>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/TaxAmount) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/TaxAmount) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/TaxAmount&quot;>&#xa;                                &lt;pfx14:taxamount>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/TaxAmount&quot;/>&#xa;                                &lt;/pfx14:taxamount>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/FreightAmount) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/FreightAmount) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/FreightAmount&quot;>&#xa;                                &lt;pfx14:freightamount>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/FreightAmount&quot;/>&#xa;                                &lt;/pfx14:freightamount>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/GrossAmount) and tib:trim($SalesOrderCreateService.response/OrderCreateResponse/Order/GrossAmount) != &amp;quot;&amp;quot;&quot;>&#xa;                            &lt;xsl:if test=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/GrossAmount&quot;>&#xa;                                &lt;pfx14:totalorderamount>&#xa;                                    &lt;xsl:value-of select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/GrossAmount&quot;/>&#xa;                                &lt;/pfx14:totalorderamount>&#xa;                            &lt;/xsl:if>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:if test=&quot;exists($SalesOrderCreateService.response/OrderCreateResponse/Order/ShipTo)&quot;>&#xa;                            &lt;xsl:for-each select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/ShipTo&quot;>&#xa;                                &lt;pfx14:shiptoaddress>&#xa;                                    &lt;xsl:if test=&quot;CareOf&quot;>&#xa;                                        &lt;pfx14:attention>&#xa;                                            &lt;xsl:value-of select=&quot;CareOf&quot;/>&#xa;                                        &lt;/pfx14:attention>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;pfx14:name>&#xa;                                        &lt;xsl:value-of select=&quot;Name1&quot;/>&#xa;                                    &lt;/pfx14:name>&#xa;                                    &lt;pfx14:addressline1>&#xa;                                        &lt;xsl:value-of select=&quot;AddressLine1&quot;/>&#xa;                                    &lt;/pfx14:addressline1>&#xa;                                    &lt;xsl:if test=&quot;AddressLine2&quot;>&#xa;                                        &lt;pfx14:addressline2>&#xa;                                            &lt;xsl:value-of select=&quot;AddressLine2&quot;/>&#xa;                                        &lt;/pfx14:addressline2>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;AddressLine3&quot;>&#xa;                                        &lt;pfx14:addressline3>&#xa;                                            &lt;xsl:value-of select=&quot;AddressLine3&quot;/>&#xa;                                        &lt;/pfx14:addressline3>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;AddressLine4&quot;>&#xa;                                        &lt;pfx14:addressline4>&#xa;                                            &lt;xsl:value-of select=&quot;AddressLine4&quot;/>&#xa;                                        &lt;/pfx14:addressline4>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;pfx14:city>&#xa;                                        &lt;xsl:value-of select=&quot;City&quot;/>&#xa;                                    &lt;/pfx14:city>&#xa;                                    &lt;xsl:if test=&quot;State&quot;>&#xa;                                        &lt;pfx14:state>&#xa;                                            &lt;xsl:value-of select=&quot;State&quot;/>&#xa;                                        &lt;/pfx14:state>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;PostalCode&quot;>&#xa;                                        &lt;pfx14:postalcode>&#xa;                                            &lt;xsl:value-of select=&quot;PostalCode&quot;/>&#xa;                                        &lt;/pfx14:postalcode>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;pfx14:countrycode>&#xa;                                        &lt;xsl:value-of select=&quot;CountryCode&quot;/>&#xa;                                    &lt;/pfx14:countrycode>&#xa;                                    &lt;xsl:if test=&quot;PhoneNumber&quot;>&#xa;                                        &lt;pfx14:phonenumber>&#xa;                                            &lt;xsl:value-of select=&quot;PhoneNumber&quot;/>&#xa;                                        &lt;/pfx14:phonenumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;ExtensionNumber&quot;>&#xa;                                        &lt;pfx14:extensionnumber>&#xa;                                            &lt;xsl:value-of select=&quot;ExtensionNumber&quot;/>&#xa;                                        &lt;/pfx14:extensionnumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;MobileNumber&quot;>&#xa;                                        &lt;pfx14:mobilenumber>&#xa;                                            &lt;xsl:value-of select=&quot;MobileNumber&quot;/>&#xa;                                        &lt;/pfx14:mobilenumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;FaxNumber&quot;>&#xa;                                        &lt;pfx14:faxnumber>&#xa;                                            &lt;xsl:value-of select=&quot;FaxNumber&quot;/>&#xa;                                        &lt;/pfx14:faxnumber>&#xa;                                    &lt;/xsl:if>&#xa;                                    &lt;xsl:if test=&quot;Email&quot;>&#xa;                                        &lt;pfx14:email>&#xa;                                            &lt;xsl:value-of select=&quot;Email&quot;/>&#xa;                                        &lt;/pfx14:email>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/pfx14:shiptoaddress>&#xa;                            &lt;/xsl:for-each>&#xa;                        &lt;/xsl:if>&#xa;                        &lt;xsl:for-each select=&quot;$SalesOrderCreateService.response/OrderCreateResponse/Order/Line&quot;>&#xa;                            &lt;pfx14:lines>&#xa;                                &lt;xsl:variable name=&quot;var&quot; select=&quot;LineNumber&quot;/>&#xa;                                &lt;xsl:variable name=&quot;varSystemid&quot; select=&quot;if (tib:trim($Start/systemid) != &amp;quot;&amp;quot;) then $Start/systemid else substring-before($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:lines[1]/pfx15:globalskuid, &amp;quot;-&amp;quot;)&quot;/>&#xa;                                &lt;pfx14:linestatus>&#xa;                                    &lt;xsl:value-of select=&quot;current()/LineRequestStatus&quot;/>&#xa;                                &lt;/pfx14:linestatus>&#xa;                                &lt;xsl:choose>&#xa;                                    &lt;xsl:when test=&quot;exists(current()/LineReturnMessages/Warning/Message) and tib:trim(current()/LineReturnMessages/Warning[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                        &lt;pfx14:linestatusmessage>&#xa;                                            &lt;xsl:value-of select=&quot;if ($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;callingapplication&amp;quot;]/pfx15:attributevalue = &amp;quot;resellerapi&amp;quot;) then concat(string(LineReturnMessages/Warning[current()/LineRequestStatus = &amp;quot;SUCCESSWITHERROR&amp;quot;]/Code), &amp;quot;,&amp;quot;, string(LineReturnMessages/Warning[current()/LineRequestStatus = &amp;quot;SUCCESSWITHERROR&amp;quot;]/Message)) else current()/LineReturnMessages/Warning[1]/Message&quot;/>&#xa;                                        &lt;/pfx14:linestatusmessage>&#xa;                                    &lt;/xsl:when>&#xa;                                    &lt;xsl:when test=&quot;exists(current()/LineReturnMessages/Success[1]/Message) and tib:trim(current()/LineReturnMessages/Success[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                        &lt;pfx14:linestatusmessage>&#xa;                                            &lt;xsl:value-of select=&quot;if ($Start/pfx15:ordercreaterequest/pfx15:ordercreatedetails/pfx15:extendedspecs[pfx15:attributename = &amp;quot;callingapplication&amp;quot;]/pfx15:attributevalue = &amp;quot;resellerapi&amp;quot;) then concat(string(LineReturnMessages/Success[current()/LineRequestStatus = &amp;quot;SUCCESS&amp;quot;]/Code), &amp;quot;,&amp;quot;, string(LineReturnMessages/Success[current()/LineRequestStatus = &amp;quot;SUCCESS&amp;quot;]/Message)) else current()/LineReturnMessages/Success[1]/Message&quot;/>&#xa;                                        &lt;/pfx14:linestatusmessage>&#xa;                                    &lt;/xsl:when>&#xa;                                    &lt;xsl:otherwise>&#xa;                                        &lt;xsl:if test=&quot;current()/LineReturnMessages/Information[1]/Message&quot;>&#xa;                                            &lt;pfx14:linestatusmessage>&#xa;                                                &lt;xsl:value-of select=&quot;current()/LineReturnMessages/Information[1]/Message&quot;/>&#xa;                                            &lt;/pfx14:linestatusmessage>&#xa;                                        &lt;/xsl:if>&#xa;                                    &lt;/xsl:otherwise>&#xa;                                &lt;/xsl:choose>&#xa;                                &lt;xsl:if test=&quot;exists(current()/LineReturnMessages/Error[1]/Code) and tib:trim(current()/LineReturnMessages/Error[1]/Code) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;xsl:if test=&quot;current()/LineReturnMessages/Error[1]/Code&quot;>&#xa;                                        &lt;pfx14:lineerrorcode>&#xa;                                            &lt;xsl:value-of select=&quot;current()/LineReturnMessages/Error[1]/Code&quot;/>&#xa;                                        &lt;/pfx14:lineerrorcode>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;exists(current()/LineReturnMessages/Error/Message) and tib:trim(current()/LineReturnMessages/Error[1]/Message) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;pfx14:lineerrormessage>&#xa;                                        &lt;xsl:value-of select=&quot;tib:concat-sequence-format(current()/LineReturnMessages/Error, &amp;quot;,&amp;quot;, true())&quot;/>&#xa;                                    &lt;/pfx14:lineerrormessage>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;current()/CustomerLineNumber&quot;>&#xa;                                    &lt;pfx14:globallinenumber>&#xa;                                        &lt;xsl:value-of select=&quot;current()/CustomerLineNumber&quot;/>&#xa;                                    &lt;/pfx14:globallinenumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tib:trim(current()/IngramPartNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;pfx14:partnumber>&#xa;                                        &lt;xsl:value-of select=&quot;current()/IngramPartNumber&quot;/>&#xa;                                    &lt;/pfx14:partnumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;tib:trim(current()/IngramPartNumber) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;pfx14:globalskuid>&#xa;                                        &lt;xsl:value-of select=&quot;concat($varSystemid, &amp;quot;-&amp;quot;, IngramPartNumber)&quot;/>&#xa;                                    &lt;/pfx14:globalskuid>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;pfx14:linenumber>&#xa;                                    &lt;xsl:value-of select=&quot;LineNumber&quot;/>&#xa;                                &lt;/pfx14:linenumber>&#xa;                                &lt;xsl:if test=&quot;exists(../CarrierCode) and tib:trim(../CarrierCode) != &amp;quot;&amp;quot;&quot;>&#xa;                                    &lt;xsl:if test=&quot;../CarrierCode&quot;>&#xa;                                        &lt;pfx14:carriercode>&#xa;                                            &lt;xsl:value-of select=&quot;../CarrierCode&quot;/>&#xa;                                        &lt;/pfx14:carriercode>&#xa;                                    &lt;/xsl:if>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;UnitProductPrice&quot;>&#xa;                                    &lt;pfx14:requestedunitprice>&#xa;                                        &lt;xsl:value-of select=&quot;UnitProductPrice&quot;/>&#xa;                                    &lt;/pfx14:requestedunitprice>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;pfx14:requestedquantity>&#xa;                                    &lt;xsl:value-of select=&quot;RequestedQuantity&quot;/>&#xa;                                &lt;/pfx14:requestedquantity>&#xa;                                &lt;pfx14:confirmedquantity>&#xa;                                    &lt;xsl:value-of select=&quot;ConfirmedQuantity&quot;/>&#xa;                                &lt;/pfx14:confirmedquantity>&#xa;                                &lt;xsl:if test=&quot;BackorderedQuantity&quot;>&#xa;                                    &lt;pfx14:backorderedquantity>&#xa;                                        &lt;xsl:value-of select=&quot;BackorderedQuantity&quot;/>&#xa;                                    &lt;/pfx14:backorderedquantity>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;UnitNetAmount&quot;>&#xa;                                    &lt;pfx14:unitproductprice>&#xa;                                        &lt;xsl:value-of select=&quot;UnitNetAmount&quot;/>&#xa;                                    &lt;/pfx14:unitproductprice>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;NetAmount&quot;>&#xa;                                    &lt;pfx14:netamount>&#xa;                                        &lt;xsl:value-of select=&quot;NetAmount&quot;/>&#xa;                                    &lt;/pfx14:netamount>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;TaxAmount&quot;>&#xa;                                    &lt;pfx14:taxamount>&#xa;                                        &lt;xsl:value-of select=&quot;TaxAmount&quot;/>&#xa;                                    &lt;/pfx14:taxamount>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;FreightAmount&quot;>&#xa;                                    &lt;pfx14:freightamount>&#xa;                                        &lt;xsl:value-of select=&quot;FreightAmount&quot;/>&#xa;                                    &lt;/pfx14:freightamount>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:if test=&quot;current()/BidID&quot;>&#xa;                                    &lt;pfx14:specialbidnumber>&#xa;                                        &lt;xsl:value-of select=&quot;current()/BidID&quot;/>&#xa;                                    &lt;/pfx14:specialbidnumber>&#xa;                                &lt;/xsl:if>&#xa;                                &lt;xsl:for-each select=&quot;current()/ScheduleLine&quot;>&#xa;                                    &lt;pfx14:schedulelines>&#xa;                                        &lt;pfx14:linenumber>&#xa;                                            &lt;xsl:value-of select=&quot;current()/LineNumber&quot;/>&#xa;                                        &lt;/pfx14:linenumber>&#xa;                                        &lt;pfx14:scheduledate>&#xa;                                            &lt;xsl:value-of select=&quot;current()/ScheduleLineDate&quot;/>&#xa;                                        &lt;/pfx14:scheduledate>&#xa;                                        &lt;pfx14:scheduledquantity>&#xa;                                            &lt;xsl:value-of select=&quot;current()/ScheduleQuantity&quot;/>&#xa;                                        &lt;/pfx14:scheduledquantity>&#xa;                                    &lt;/pfx14:schedulelines>&#xa;                                &lt;/xsl:for-each>&#xa;                            &lt;/pfx14:lines>&#xa;                        &lt;/xsl:for-each>&#xa;                    &lt;/pfx14:ordercreateresponse>&#xa;                &lt;/pfx14:serviceresponse>&#xa;            &lt;/xsl:when>&#xa;            &lt;xsl:otherwise>&#xa;                &lt;pfx14:serviceresponse>&#xa;                    &lt;pfx14:responsepreamble>&#xa;                        &lt;pfx14:responsestatus>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;SUCCESS&amp;quot;&quot;/>&#xa;                        &lt;/pfx14:responsestatus>&#xa;                        &lt;pfx14:responsemessage>&#xa;                            &lt;xsl:value-of select=&quot;&amp;quot;NO SAP ITEMS&amp;quot;&quot;/>&#xa;                        &lt;/pfx14:responsemessage>&#xa;                    &lt;/pfx14:responsepreamble>&#xa;                    &lt;pfx14:ordercreateresponse/>&#xa;                &lt;/pfx14:serviceresponse>&#xa;            &lt;/xsl:otherwise>&#xa;        &lt;/xsl:choose>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                    </tibex:inputBindings>
                    <tibex:config>
                        <bwext:BWActivity
                            activityTypeID="bw.internal.end"
                            xmlns:activityconfig="http://tns.tibco.com/bw/model/activityconfig"
                            xmlns:bwext="http://tns.tibco.com/bw/model/core/bwext"
                            xmlns:internalactivities="http://ns.tibco.com/bw/core/internalactivity" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                            <activityConfig>
                                <properties name="config" xsi:type="activityconfig:EMFProperty">
                                    <type href="http://ns.tibco.com/bw/core/internalactivity#//End"/>
                                    <value xsi:type="internalactivities:End"/>
                                </properties>
                            </activityConfig>
                        </bwext:BWActivity>
                    </tibex:config>
                </tibex:activityExtension>
            </bpws:extensionActivity>
            <bpws:throw faultName="ns10:ErrorHandlerInput"
                faultVariable="Generate-Error-Fault-Schema0-Var"
                name="Generate-Error" tibex:xpdlId="4b9ea5a3-27a6-4882-9dd1-776aca95a6a1">
                <tibex:inputBindings>
                    <tibex:partBinding
                        expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?>&#xa;&lt;xsl:stylesheet xmlns:pfx6=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockRequest.xsd&quot; xmlns:pfx91=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceAndStockMappingResponse_v2_0.xsd&quot; xmlns:pfx7=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/Resources/StockResponse.xsd&quot; xmlns:pfx8=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/PriceAndStockRequest.xsd&quot; xmlns:pfx101=&quot;http://xmlns.example.com/1437473647806&quot; xmlns:pfx9=&quot;http://www.ingrammicro.com/product/PriceAndPriceAndStock _v2_0_Service/Resources/PriceAndPriceAndStockResponse.xsd&quot; xmlns:pfx2=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_1/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx3=&quot;http://www.ingrammicro.com/product/PriceAndAvailability_v2_6/PriceAndAvailabilityImpl/Processes/PriceAndAvailability&quot; xmlns:pfx4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_6/types&quot; xmlns:pfx5=&quot;http://www.ingrammicro.com/common/ServiceResponseHeader_v2_1/types&quot; xmlns:ns121=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v1_0/types&quot; xmlns:ns0=&quot;http://www.ingrammicro.com/order/OrderCreateRequest_v1_0/types&quot; xmlns:ns2=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_1/types&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; xmlns:ns1=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_6/types&quot; xmlns:ns4=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityResponse_v2_1/types&quot; xmlns:ns3=&quot;http://www.ingrammicro.com/common/ServiceRequestHeader_v2_2/types&quot; xmlns:ns6=&quot;http://www.tibco.com/pe/EngineTypes&quot; xmlns:ns5=&quot;http://xmlns.tibco.com/encodings/mime&quot; xmlns:ansbw6=&quot;http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd&quot; xmlns:ns8=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateResponse_v2_4/types&quot; xmlns:ns7=&quot;http://xmlns.example.com/1498046250560/Processes/CloudBlue/CallCloudBlue/Generate-Error-Fault-ErrorHandlerInput.xsd&quot; xmlns:ns13=&quot;http://www.ingrammicro.com/product/ProductLookupRequest_v1_0/types&quot; xmlns:ns12=&quot;http://www.tibco.com/schemas/EAILoggingFramework_1_0/Resources/Schema/LoggingFrameworkCDM.xsd&quot; xmlns:ns9=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreateRequest_v2_4/types&quot; xmlns:ns11=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_v1_0/Resources/Common/JobSharedVariables/Schema.xsd&quot; xmlns:ns10=&quot;http://www.tibco.com/pe/DeployedVarsType&quot; xmlns:ns16=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlusRequest_v1_0/types&quot; xmlns:ns15=&quot;http://www.ingrammicro.com/order/OrderDeleteRequest_v1_0/types&quot; xmlns:ns14=&quot;http://www.tibco.com/schemas/OrderLTLUpdate_v1_0/Resources/Schema.xsd&quot; xmlns:ns131=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusRequest&quot; xmlns:pfx19=&quot;http://www.tibco.com/schemas/SplunkEAILoggingLibrary_1_0/LoggingFrameworkResources/LoggingFrameworkSchema/ErrorHandler_V3.0.xsd&quot; xmlns:ns41=&quot;http://www.ingrammicro.com/PriceAndAvailabilityPlusReply&quot; xmlns:pfx17=&quot;http://webservices.ingrammicro.com/wsdl/PriceAndAvailabilityPlus/GetPriceAndAvailabilityImpl/Processes&quot; xmlns:pfx18=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestSAP.xsd&quot; xmlns:pfx11=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityPlus_v1_0/GetPriceAndAvailabilityImpl&quot; xmlns:pfx12=&quot;http://www.tibco.com/xmlns/ae2xsd/2002/05/Ingram/ErrorHandlerEvent_v2_1&quot; xmlns:pfx10=&quot;http://www.tibco.com/namespaces/tnt/plugins/jms&quot; xmlns:pfx15=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequest.xsd&quot; xmlns:pfx16=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateAuthRequest.xsd&quot; xmlns:pfx13=&quot;http://www.ingrammicro.com/salesorder/SalesOrderCreate_v2_4/SalesOrderCreateImpl/Processes/SalesOrderCreate&quot; xmlns:pfx14=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateResponse.xsd&quot; xmlns:pfx=&quot;http://www.ingrammicro.com/product/Stock _v2_0_Service/types&quot; xmlns:ns=&quot;http://www.ingrammicro.com/product/PriceAndAvailabilityRequest_v2_1/types&quot; xmlns:pfx71=&quot;http://www.ingrammicro.com/product/Price _v2_0_Service/Resources/PriceRequest.xsd&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:ns102=&quot;http://www.tibco.com/schemas/OrderDetail_v1_1/Resources/Schema.xsd&quot; xmlns:ns81=&quot;http://www.ingrammicro.com/order/OrderCreateResponse_v1_0/types&quot; xmlns:ns101=&quot;http://www.ingrammicro.com/OrderDetail_v1_1/Resources/OrderDetailResponse/types&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; xmlns:pfx22=&quot;http://xmlns.example.com/1517917744445&quot; xmlns:pfx161=&quot;http://www.ingrammicro.com/order/OrderCreate_v1_0/CreateImpl/Processes/OrderCreate&quot; xmlns:pfx23=&quot;http://www.ingrammicro.com/order/OrderDelete_v1_0/DeleteImpl/Processes/OrderDelete&quot; xmlns:pfx20=&quot;http://www.ingrammicro.com/order/OrderDetail&quot; xmlns:pfx21=&quot;http://www.ingrammicro.com/Processes/OrderModify/OrderModify_Service&quot; xmlns:pfx121=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockRequest.xsd&quot; xmlns:pfx24=&quot;http://www.ingrammicro.com/OrderLTLUpdate_v1_1/Resources/OrderLTLUpdateResponse/types&quot; xmlns:pfx25=&quot;http://www.ingrammicro.com/order/OrderRelease_v1_0/ReleaseImpl/Processes/OrderRelease&quot; xmlns:pfx81=&quot;http://www.tibco.com/ns/no_namespace_schema_location/Resources/PriceResponse.xsd&quot; xmlns:ns71=&quot;http://schemas.tibco.com/bw/plugins/http/5.0/httpExceptions&quot; xmlns:ns111=&quot;http://www.ingrammicro.com/order/OrderModifyRequest_v1_0/types&quot; xmlns:ns61=&quot;http://schemas.tibco.com/bw/pe/plugin/5.0/exceptions&quot; xmlns:pd=&quot;http://xmlns.tibco.com/bw/process/2003&quot; xmlns:pfx191=&quot;http://www.ingrammicro.com/product/OrderCreate_v2_0_Service/Resources/OrderCreateRequestImpulse.xsd&quot; xmlns:ns21=&quot;http://www.ingrammicro.com/product/ProductLookupResponse_v1_0/types&quot; xmlns:pfx111=&quot;http://www.ingrammicro.com/product/PriceAndStock _v2_0_Service/Resources/ImpulseStockResponse.xsd&quot; version=&quot;1.0&quot;>&#xa;    &lt;xsl:param name=&quot;Start&quot;/>&#xa;    &lt;xsl:param name=&quot;_error&quot;/>&#xa;    &lt;xsl:param name=&quot;_processContext&quot;/>&#xa;    &lt;xsl:template name=&quot;Generate-Error-Input&quot; match=&quot;/&quot;>&#xa;        &lt;ns7:ErrorHandlerInput>&#xa;            &lt;pfx19:SourceProcessName>&#xa;                &lt;xsl:value-of select=&quot;$_processContext/ApplicationName&quot;/>&#xa;            &lt;/pfx19:SourceProcessName>&#xa;            &lt;pfx19:SourceActivityName>&#xa;                &lt;xsl:value-of select=&quot;&amp;quot;OrderCreate_v2_0 - OrderCreateSAPService-Error&amp;quot;&quot;/>&#xa;            &lt;/pfx19:SourceActivityName>&#xa;            &lt;xsl:if test=&quot;$_error/MsgCode&quot;>&#xa;                &lt;pfx19:ErrorCode>&#xa;                    &lt;xsl:value-of select=&quot;$_error/MsgCode&quot;/>&#xa;                &lt;/pfx19:ErrorCode>&#xa;            &lt;/xsl:if>&#xa;            &lt;pfx19:ErrorText>&#xa;                &lt;xsl:value-of select=&quot;$_error/Msg&quot;/>&#xa;            &lt;/pfx19:ErrorText>&#xa;            &lt;pfx19:RethrowErrorFlag>&#xa;                &lt;xsl:value-of select=&quot;true()&quot;/>&#xa;            &lt;/pfx19:RethrowErrorFlag>&#xa;            &lt;pfx19:ErrorDetails>&#xa;                &lt;pfx19:TimeStamp>&#xa;                    &lt;xsl:value-of select=&quot;current-dateTime()&quot;/>&#xa;                &lt;/pfx19:TimeStamp>&#xa;                &lt;pfx19:ActionRequired>&#xa;                    &lt;xsl:value-of select=&quot;&amp;quot;Please check OrderCreate_v2_0 - OrderCreateSAPService-Error&amp;quot;&quot;/>&#xa;                &lt;/pfx19:ActionRequired>&#xa;                &lt;pfx19:DataOnHand>&#xa;                    &lt;xsl:value-of select=&quot;concat(&amp;quot;Request:  { &amp;quot;, tib:render-xml($Start/pfx15:ordercreaterequest, false(), true()), &amp;quot; } &amp;quot;)&quot;/>&#xa;                &lt;/pfx19:DataOnHand>&#xa;                &lt;pfx19:StackTrace>&#xa;                    &lt;xsl:value-of select=&quot;$_error/StackTrace&quot;/>&#xa;                &lt;/pfx19:StackTrace>&#xa;            &lt;/pfx19:ErrorDetails>&#xa;        &lt;/ns7:ErrorHandlerInput>&#xa;    &lt;/xsl:template>&#xa;&lt;/xsl:stylesheet>" expressionLanguage="urn:oasis:names:tc:wsbpel:2.0:sublang:xslt1.0"/>
                </tibex:inputBindings>
            </bpws:throw>
        </bpws:flow>
    </bpws:scope>
</bpws:process>
